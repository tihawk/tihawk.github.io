"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[5312],{8453:(e,t,o)=>{o.d(t,{R:()=>s,x:()=>r});var i=o(6540);const a={},n=i.createContext(a);function s(e){const t=i.useContext(n);return i.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function r(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:s(e.components),i.createElement(n.Provider,{value:t},e.children)}},9865:(e,t,o)=>{o.r(t),o.d(t,{assets:()=>h,contentTitle:()=>s,default:()=>c,frontMatter:()=>n,metadata:()=>r,toc:()=>l});var i=o(4848),a=o(8453);const n={slug:"winamp-github-repository-problems",title:"The Winamp GitHub repository is seriously mismanaged. And there's nothing they can do about it now.",description:"The Winamp GitHub repository is seriously mismanaged. And there's nothing they can do about it now.",authors:"kiroki",tags:["Cyber Security"]},s=void 0,r={permalink:"/blog/winamp-github-repository-problems",source:"@site/blog/2024-10-08winamp-github-repository-problems.md",title:"The Winamp GitHub repository is seriously mismanaged. And there's nothing they can do about it now.",description:"The Winamp GitHub repository is seriously mismanaged. And there's nothing they can do about it now.",date:"2024-10-08T00:00:00.000Z",formattedDate:"October 8, 2024",tags:[{label:"Cyber Security",permalink:"/blog/tags/cyber-security"}],readingTime:7.535,hasTruncateMarker:!1,authors:[{name:"Kiril Panayotov Blagoev",title:"Admin",url:"https://github.com/tihawk",imageURL:"https://github.com/tihawk.png",key:"kiroki"}],frontMatter:{slug:"winamp-github-repository-problems",title:"The Winamp GitHub repository is seriously mismanaged. And there's nothing they can do about it now.",description:"The Winamp GitHub repository is seriously mismanaged. And there's nothing they can do about it now.",authors:"kiroki",tags:["Cyber Security"]},unlisted:!1,prevItem:{title:"On shebangs, and their funky behaviour",permalink:"/blog/on-shebangs-being-funky"},nextItem:{title:"How I manage configuration files on my Linux machine using dotfiles and stow",permalink:"/blog/using-stow-for-managing dotfiles"}},h={authorsImageUrls:[void 0]},l=[{value:"Preamble",id:"preamble",level:2},{value:"A rough overview of GitHub",id:"a-rough-overview-of-github",level:2},{value:"Back to the beauty that is the Winamp GitHub repo",id:"back-to-the-beauty-that-is-the-winamp-github-repo",level:2},{value:"Winamp did take some action",id:"winamp-did-take-some-action",level:3},{value:"They deleted some of the commits",id:"they-deleted-some-of-the-commits",level:3},{value:"Ok, what can they do?",id:"ok-what-can-they-do",level:3},{value:"A lesser-known &quot;feature&quot; of GitHub",id:"a-lesser-known-feature-of-github",level:2},{value:"So, what if GitHub clears the cache, and we delete the repo?",id:"so-what-if-github-clears-the-cache-and-we-delete-the-repo",level:3},{value:"Conclusion",id:"conclusion",level:2}];function d(e){const t={a:"a",blockquote:"blockquote",code:"code",em:"em",h2:"h2",h3:"h3",p:"p",strong:"strong",...(0,a.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.h2,{id:"preamble",children:"Preamble"}),"\n",(0,i.jsxs)(t.p,{children:['At this point, I think it\'s no secret that Winamp going "open-source" has been a bit of a ',(0,i.jsx)(t.a,{href:"https://www.youtube.com/watch?v=NgZPa78InWw&pp=ygUSd2luYW1wIG9wZW4gc291cmNl",children:"shit-show"}),"."]}),"\n",(0,i.jsxs)(t.p,{children:['The initial outrage on the repository was in response to the apparent lack of understanding of what open-source means on the side of Winamp, as they claim that their license is "',(0,i.jsx)(t.a,{href:"https://www.gnu.org/licenses/copyleft.en.html",children:"copyleft"}),'", while allowing for neither redistribution of modified versions, nor contributions to the official project, and initially not even ',(0,i.jsx)(t.a,{href:"https://github.com/WinampDesktop/winamp/commit/64a51755c6f5d85039463c8bf7c2a9e98e862586",children:"allowing forking"}),"! Someone did ",(0,i.jsx)(t.a,{href:"https://github.com/WinampDesktop/winamp/issues/6",children:"point it out"})," to them that they can't ban forking on GitHub, as that constitutes ",(0,i.jsx)(t.a,{href:"https://docs.github.com/en/site-policy/github-terms/github-terms-of-service#5-license-grant-to-other-users",children:"a violation of the TOS"}),'. So, Winamp updated their license to allow forking, but it still doesn\'t allow anything else that would constitute "open-source" - redistribution or even outside contributions.']}),"\n",(0,i.jsxs)("figure",{class:"kg-card kg-image-card kg-card-hascaption",children:[(0,i.jsx)("img",{src:"/content/images/2024/10/winamp-allowed-forking.jpg",class:"kg-image",alt:!0,loading:"lazy"}),(0,i.jsx)("figcaption",{children:"A truly historic moment, ladies and gentlemen :)"})]}),"\n",(0,i.jsxs)(t.p,{children:['In objective terms, this license falls in the category of "source-available" rather than open-source, and this ',(0,i.jsx)(t.em,{children:"is"}),' an important distinction to make. I have no problem with Winamp making their source available as a valuable case-study, but they really shouldn\'t have used the term "copyleft" if that is the intention.']}),"\n",(0,i.jsx)(t.p,{children:"But we're here to discuss more so another glaring issue with the repository, which might actually end up landing a lawsuit at Winamp's doors. And sadly, they can't really do anything about it anymore."}),"\n",(0,i.jsx)(t.h2,{id:"a-rough-overview-of-github",children:"A rough overview of GitHub"}),"\n",(0,i.jsx)(t.p,{children:"In its simplest form, GitHub can be described as a web-hosted git server for the public. As a developer interested in open-source, you can create a git repository, write some incredible code that you AND your mum are really proud of, and share it with the world on GitHub, so everyone can appreciate your contribution to the democratisation of programming."}),"\n",(0,i.jsxs)(t.p,{children:["But GitHub is more than simply a place to host your git repository. It is also a collaboration platform, where anyone who feels like they ",(0,i.jsx)(t.em,{children:"like"})," your code, and would like to change it until they ",(0,i.jsx)(t.strong,{children:"love"}),' it, can "fork" your repository. Forking is in fact not a more aggressive version of spooning, but simply the act of making a clone of the original repository in your account. This forked repository contains all the history of the original - all the code, and all the commits that came before the fork.']}),"\n",(0,i.jsx)(t.h2,{id:"back-to-the-beauty-that-is-the-winamp-github-repo",children:"Back to the beauty that is the Winamp GitHub repo"}),"\n",(0,i.jsxs)(t.p,{children:["If you were to peruse the code on the Winamp repository in the ",(0,i.jsx)(t.a,{href:"https://github.com/WinampDesktop/winamp/tree/20d28e80a5c861a9d5f449ea911ab75b4f37ad0d",children:"first few days"})," after its publishing, you would have noticed some very intriguing things. For example, a ",(0,i.jsx)(t.code,{children:"BuildTools"})," directory which included things like whole executable files the ",(0,i.jsx)(t.code,{children:"7zip"}),", ",(0,i.jsx)(t.code,{children:"git"}),', and other programs just hanging around, designated as "build tools". And although very odd indeed, these things seem more so ',(0,i.jsx)(t.em,{children:"stupid"})," than harmful."]}),"\n",(0,i.jsx)(t.p,{children:"But there's much more there! Inside the repo there was proprietary code from Dolby, some questionable SDKs which Winamp may or may-not have the right to redistribute, an entire directory containing the commercial version of Qt, some, admittedly expired, credentials, and so on, and so forth."}),"\n",(0,i.jsx)(t.h3,{id:"winamp-did-take-some-action",children:"Winamp did take some action"}),"\n",(0,i.jsxs)(t.p,{children:["There are numerous pull requests ",(0,i.jsx)(t.a,{href:"https://github.com/WinampDesktop/winamp/pull/1378",children:"deleting said files"}),", and the maintainers ",(0,i.jsx)(t.a,{href:"https://github.com/WinampDesktop/winamp/commit/16911d12a01f82fea5d851f98e9e702d80f881d5",children:"did"})," ",(0,i.jsx)(t.a,{href:"https://github.com/WinampDesktop/winamp/commit/e721b2e039742c12c1f9c93b1b779ca3b7fc061e",children:"also"})," ",(0,i.jsx)(t.a,{href:"https://github.com/WinampDesktop/winamp/commit/6ff62b6dda0906648b0a5ce891e85231cbbb40d5",children:"remove"})," a lot, if not all the unlicensed code. And they did this... in public. You can clearly see many of the commits that delete stuff right there on the ",(0,i.jsx)(t.a,{href:"https://github.com/WinampDesktop/winamp/commits",children:"commits page"}),". Which, you know, is a problem. If you open any of the commits listed there, you can simply look at the code that was deleted. If you simply clone that repository locally, you can move around that history and see it at the times before it was removed. This public deletion without rebasing just does nothing."]}),"\n",(0,i.jsx)(t.h3,{id:"they-deleted-some-of-the-commits",children:"They deleted some of the commits"}),"\n",(0,i.jsxs)(t.p,{children:["OK well, if you just scroll around the commits history, you will notice that the commits that delete, for example the Dolby code is nowhere to be found. But in the end, that doesn't really do anything either, since you can still just go back in history to ",(0,i.jsx)(t.a,{href:"https://github.com/WinampDesktop/winamp/commit/20d28e80a5c861a9d5f449ea911ab75b4f37ad0d",children:"a commit before they deleted it"}),", and just see it there."]}),"\n",(0,i.jsxs)("figure",{class:"kg-card kg-image-card kg-card-hascaption",children:[(0,i.jsx)("img",{src:"/content/images/2024/10/look-mum-im-a-criminal-now.jpg",class:"kg-image",alt:!0,loading:"lazy"}),(0,i.jsx)("figcaption",{children:"Does this count as distribution?"})]}),"\n",(0,i.jsx)(t.h3,{id:"ok-what-can-they-do",children:"Ok, what can they do?"}),"\n",(0,i.jsx)(t.p,{children:"I mean, they could just rebase everything, this would theoretically get rid of the commit history. They'd need to get rid of pull requests as well, since those contain code from certain history positions. And to be honest, at this point I'd just delete the repo from GitHub, clean up the codebase locally, and create the GitHub repo anew."}),"\n",(0,i.jsx)(t.p,{children:"But really, even that would not be enough anymore."}),"\n",(0,i.jsx)(t.h2,{id:"a-lesser-known-feature-of-github",children:'A lesser-known "feature" of GitHub'}),"\n",(0,i.jsx)(t.p,{children:"Remember how I said that they deleted some of the commits from their history, so you can't simply see what code they removed? Well, even though that commit is gone from the git history, and you wouldn't see it even if you cloned the repository locally... you can still see it on GitHub."}),"\n",(0,i.jsxs)(t.p,{children:['You see, to facilitate collaboration through forking, GitHub introduces something called a "',(0,i.jsx)(t.a,{href:"https://docs.github.com/en/repositories/viewing-activity-and-data-for-your-repository/understanding-connections-between-repositories#viewing-a-repositorys-network",children:"repository network"}),'". This network holds information of the "upstream" or parent repository, all of its forks, and all the commits that belong to each fork.']}),"\n",(0,i.jsxs)(t.p,{children:["Additionally, GitHub caches commits, so that they can be accessed by other repositories in the repository network. As explained by ",(0,i.jsx)(t.a,{href:"https://news.ycombinator.com/item?id=41060102",children:"Github themselves"}),":"]}),"\n",(0,i.jsxs)(t.blockquote,{children:["\n",(0,i.jsx)(t.p,{children:'GitHub stores the parent repository along with forks in a "repository network". It is a known behavior that objects from one network member are readable via other network members. Blobs and commits are stored together, while refs are stored separately for each fork. This shared storage model is what allows for pull requests between members of the same network.'}),"\n"]}),"\n",(0,i.jsx)(t.p,{children:"So, not only are the deleted commits potentially visible inside of forks that may have this commit from before it was deleted in the upstream repository. No, they are also just visible in general, as long as you know the commit hash. GitHub simply caches them, and you can just visit the page for that commit, and see all the changes it has made, and the entire code-base at that point in history."}),"\n",(0,i.jsxs)("figure",{class:"kg-card kg-image-card kg-card-hascaption",children:[(0,i.jsx)("img",{src:"/content/images/2024/10/github-deleted-commit.jpg",class:"kg-image",alt:!0,loading:"lazy"}),(0,i.jsx)("figcaption",{children:"You can still see deleted commits on GitHub"})]}),"\n",(0,i.jsx)(t.p,{children:"So, even if you rebase your repository, the commits history is still there, cached and awaiting. And all forks that were made before the rebase, you can just peruse those anyway."}),"\n",(0,i.jsxs)(t.p,{children:["Now, to be fair - GitHub has an entire ",(0,i.jsx)(t.a,{href:"https://docs.github.com/en/authentication/keeping-your-account-and-data-secure/removing-sensitive-data-from-a-repository#about-sensitive-data-exposure",children:"docs section"})," about leaking sensitive data. It does mention that you can contact support, and request the cached commits to be removed, if they deem that sensitive data has been exposed."]}),"\n",(0,i.jsx)(t.h3,{id:"so-what-if-github-clears-the-cache-and-we-delete-the-repo",children:"So, what if GitHub clears the cache, and we delete the repo?"}),"\n",(0,i.jsxs)(t.p,{children:["Well, nothing. It has been already forked more than 2600 thousand times as of the time I'm writing this. It's out there on GitHub :) A lot of the forks were even made before anything was deleted from the repo. So you don't even have to rely on cached commit hashes. In the same ",(0,i.jsx)(t.a,{href:"https://docs.github.com/en/authentication/keeping-your-account-and-data-secure/removing-sensitive-data-from-a-repository#about-sensitive-data-exposure",children:"docs page"})," I linked above, GitHub themselves say that yeah - if someone has forked your repo, you're on your own, buddy."]}),"\n",(0,i.jsxs)(t.p,{children:["If you remove the upstream repository of a repository network, GitHub simply ",(0,i.jsx)(t.a,{href:"https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/working-with-forks/what-happens-to-forks-when-a-repository-is-deleted-or-changes-visibility#deleting-a-public-repository",children:"designates another fork"})," to be the upstream one. And all of that history and cached commits are still accessible through any of the forked repositories."]}),"\n",(0,i.jsx)(t.h2,{id:"conclusion",children:"Conclusion"}),"\n",(0,i.jsx)(t.p,{children:"I do find it ironic, that this same collaborative feature which Winamp tried to disallow us from using - forking their repo, is also the one which in the end will not allow them to ever escape the reality that they managed to leak some confidential data on their repository."}),"\n",(0,i.jsx)(t.p,{children:"But hey, what's done is done, and it did allow me to learn more about how GitHub works with its repository networks and whatnot, so I guess it is possible to learn from someone else's mistakes. I hope you learned something from this too, at the very least to be very careful with what you push to GitHub. And if you do make a mistake - just delete the repo before it was forked, and try again. QED"}),"\n",(0,i.jsx)(t.p,{children:"In terms of the Winamp repository, I am happy that they decided to share their codebase. Even though you literally can't do anything with it apart from reading it, it's still a nice case-study. And I do not wish for them to regret going source-available, so I hope they don't get any legal problems."}),"\n",(0,i.jsx)(t.p,{children:"But on the other hand, I do wish they'd gone fully open-source. I mean, what are they protecting right now? Winamp is a big part of history, everyone has at least heard of it, if not used it. But nowadays it's just that - part of history. But we've seen that through collaboration and openness of the developers, a lot of software can live for a very long time. Winamp could become something modern and fully maintained, if it allowed for outside contribution. I do hope they take that next step at some point. After they clean up this mess of a repo..."})]})}function c(e={}){const{wrapper:t}={...(0,a.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}}}]);