"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[1143],{5680:(a,e,s)=>{s.d(e,{xA:()=>g,yg:()=>c});var n=s(6540);function t(a,e,s){return e in a?Object.defineProperty(a,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):a[e]=s,a}function m(a,e){var s=Object.keys(a);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(a);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),s.push.apply(s,n)}return s}function p(a){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?m(Object(s),!0).forEach((function(e){t(a,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(s)):m(Object(s)).forEach((function(e){Object.defineProperty(a,e,Object.getOwnPropertyDescriptor(s,e))}))}return a}function r(a,e){if(null==a)return{};var s,n,t=function(a,e){if(null==a)return{};var s,n,t={},m=Object.keys(a);for(n=0;n<m.length;n++)s=m[n],e.indexOf(s)>=0||(t[s]=a[s]);return t}(a,e);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(a);for(n=0;n<m.length;n++)s=m[n],e.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(a,s)&&(t[s]=a[s])}return t}var i=n.createContext({}),l=function(a){var e=n.useContext(i),s=e;return a&&(s="function"==typeof a?a(e):p(p({},e),a)),s},g=function(a){var e=l(a.components);return n.createElement(i.Provider,{value:e},a.children)},N="mdxType",y={inlineCode:"code",wrapper:function(a){var e=a.children;return n.createElement(n.Fragment,{},e)}},o=n.forwardRef((function(a,e){var s=a.components,t=a.mdxType,m=a.originalType,i=a.parentName,g=r(a,["components","mdxType","originalType","parentName"]),N=l(s),o=t,c=N["".concat(i,".").concat(o)]||N[o]||y[o]||m;return s?n.createElement(c,p(p({ref:e},g),{},{components:s})):n.createElement(c,p({ref:e},g))}));function c(a,e){var s=arguments,t=e&&e.mdxType;if("string"==typeof a||t){var m=s.length,p=new Array(m);p[0]=o;var r={};for(var i in e)hasOwnProperty.call(e,i)&&(r[i]=e[i]);r.originalType=a,r[N]="string"==typeof a?a:t,p[1]=r;for(var l=2;l<m;l++)p[l]=s[l];return n.createElement.apply(null,p)}return n.createElement.apply(null,s)}o.displayName="MDXCreateElement"},2714:(a,e,s)=>{s.d(e,{A:()=>m});var n=s(6540);const t={"donate-card":"donate-card_mbts",bmac:"bmac_qmhE"};function m(){return n.createElement("div",{className:"alert alert--primary",role:"alert"},n.createElement("div",{className:"card__body"},n.createElement("p",null,"Thank you for reading!"),n.createElement("p",null,"The information in this blog, as well as all the tools, apps and libraries I develop are currently open source."),n.createElement("p",null,"I would love to keep it this way, and you can help!"),n.createElement("p",null,"You can buy me a coffee from here, which will go towards the next all-nighter I pull off!"),n.createElement("a",{href:"https://www.buymeacoffee.com/kblagoev",target:"_blank"},n.createElement("img",{src:"https://cdn.buymeacoffee.com/buttons/v2/default-violet.png",className:t.bmac,alt:"Buy Me A Coffee"})),n.createElement("p",null,"Or you can support me and my code monthly over at ",n.createElement("a",{href:"https://github.com/sponsors/tihawk",target:"_blank"},"Github Sponsors!")),n.createElement("p",null,"Thanks!")))}},9218:(a,e,s)=>{s.r(e),s.d(e,{assets:()=>l,contentTitle:()=>r,default:()=>o,frontMatter:()=>p,metadata:()=>i,toc:()=>g});var n=s(8168),t=(s(6540),s(5680)),m=s(2714);const p={slug:"simulating-the-vicsek-model-how-do-birds-flock-and-insects-swarm",title:"Simulating the Vicsek Model (with time delay) - How do birds flock and insects swarm",description:"The standard Vicsek model suffers from one weakness: it lacks an inertial term, which seems to be important in imitating the behaviour of biological systems. So the goal of this post will be to figure out a way to simulate the Vicsek model with time delay.",authors:"kiroki",tags:["Coding","Science"]},r=void 0,i={permalink:"/blog/simulating-the-vicsek-model-how-do-birds-flock-and-insects-swarm",source:"@site/blog/2020-01-20-20:29:52simulating-the-vicsek-model-how-do-birds-flock-and-insects-swarm.md",title:"Simulating the Vicsek Model (with time delay) - How do birds flock and insects swarm",description:"The standard Vicsek model suffers from one weakness: it lacks an inertial term, which seems to be important in imitating the behaviour of biological systems. So the goal of this post will be to figure out a way to simulate the Vicsek model with time delay.",date:"2020-01-20T00:00:00.000Z",formattedDate:"January 20, 2020",tags:[{label:"Coding",permalink:"/blog/tags/coding"},{label:"Science",permalink:"/blog/tags/science"}],readingTime:14.665,hasTruncateMarker:!0,authors:[{name:"Kiril Panayotov Blagoev",title:"Admin",url:"https://github.com/tihawk",imageURL:"https://github.com/tihawk.png",key:"kiroki"}],frontMatter:{slug:"simulating-the-vicsek-model-how-do-birds-flock-and-insects-swarm",title:"Simulating the Vicsek Model (with time delay) - How do birds flock and insects swarm",description:"The standard Vicsek model suffers from one weakness: it lacks an inertial term, which seems to be important in imitating the behaviour of biological systems. So the goal of this post will be to figure out a way to simulate the Vicsek model with time delay.",authors:"kiroki",tags:["Coding","Science"]},prevItem:{title:"On approximating irrational numbers as fractions (algorithms)",permalink:"/blog/on-approximating-irrational-numbers-as-fractions-algorithms"},nextItem:{title:"How do birds flock and insects swarm: the Problem with current models",permalink:"/blog/further-introduction-to-how-do-birds-flock-and-insects-swarm"}},l={authorsImageUrls:[void 0]},g=[{value:"Analysing the equations of motion",id:"analysing-the-equations-of-motion",level:2},{value:"Writing a simulator for the time-delayed Vicsek model in 3D",id:"writing-a-simulator-for-the-time-delayed-vicsek-model-in-3d",level:2}],N={toc:g},y="wrapper";function o(a){let{components:e,...s}=a;return(0,t.yg)(y,(0,n.A)({},N,s,{components:e,mdxType:"MDXLayout"}),(0,t.yg)("p",null,"In ",(0,t.yg)("a",{parentName:"p",href:"/blog/introduction-to-how-do-birds-flock-and-insects-swarm/"},"two")," previous ",(0,t.yg)("a",{parentName:"p",href:"/blog/further-introduction-to-how-do-birds-flock-and-insects-swarm/"},"posts"),"  we got to know two main things:"),(0,t.yg)("ol",null,(0,t.yg)("li",{parentName:"ol"},"We can analyse the behaviour of groups of animals using statistical tools like correlation functions"),(0,t.yg)("li",{parentName:"ol"},"We can simulate this behaviour using for example the Vicsek model, and by analysing it the same way as natural groups we can measure the accurateness of the model in replicating natural phenomena.")),(0,t.yg)("p",null,"We also learned that the standard Vicsek model suffers from one weakness: it lacks an inertial term, which seems to be important in imitating the behaviour of biological systems. So the goal of this post will be to figure out a way to simulate the Vicsek model with time delay. Let's start by"),(0,t.yg)("h2",{id:"analysing-the-equations-of-motion"},"Analysing the equations of motion"),(0,t.yg)("div",{className:"math math-display"},(0,t.yg)("span",{parentName:"div",className:"katex-display"},(0,t.yg)("span",{parentName:"span",className:"katex"},(0,t.yg)("span",{parentName:"span",className:"katex-mathml"},(0,t.yg)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},(0,t.yg)("semantics",{parentName:"math"},(0,t.yg)("mrow",{parentName:"semantics"},(0,t.yg)("mover",{parentName:"mrow",accent:"true"},(0,t.yg)("msub",{parentName:"mover"},(0,t.yg)("mi",{parentName:"msub"},"v"),(0,t.yg)("mi",{parentName:"msub"},"i")),(0,t.yg)("mo",{parentName:"mover"},"\u20d7")),(0,t.yg)("mo",{parentName:"mrow",stretchy:"false"},"("),(0,t.yg)("mi",{parentName:"mrow"},"t"),(0,t.yg)("mo",{parentName:"mrow"},"+"),(0,t.yg)("mn",{parentName:"mrow"},"1"),(0,t.yg)("mo",{parentName:"mrow",stretchy:"false"},")"),(0,t.yg)("mo",{parentName:"mrow"},"="),(0,t.yg)("msub",{parentName:"mrow"},(0,t.yg)("mi",{parentName:"msub"},"v"),(0,t.yg)("mn",{parentName:"msub"},"0")),(0,t.yg)("msub",{parentName:"mrow"},(0,t.yg)("mi",{parentName:"msub",mathvariant:"script"},"R"),(0,t.yg)("mi",{parentName:"msub"},"\u03b7")),(0,t.yg)("mi",{parentName:"mrow",mathvariant:"normal"},"\u0398"),(0,t.yg)("mrow",{parentName:"mrow"},(0,t.yg)("mo",{parentName:"mrow",fence:"true"},"["),(0,t.yg)("mover",{parentName:"mrow",accent:"true"},(0,t.yg)("msub",{parentName:"mover"},(0,t.yg)("mi",{parentName:"msub"},"v"),(0,t.yg)("mi",{parentName:"msub"},"i")),(0,t.yg)("mo",{parentName:"mover"},"\u20d7")),(0,t.yg)("mo",{parentName:"mrow",stretchy:"false"},"("),(0,t.yg)("mi",{parentName:"mrow"},"t"),(0,t.yg)("mo",{parentName:"mrow",stretchy:"false"},")"),(0,t.yg)("mo",{parentName:"mrow"},"+"),(0,t.yg)("munder",{parentName:"mrow"},(0,t.yg)("mo",{parentName:"munder"},"\u2211"),(0,t.yg)("mrow",{parentName:"munder"},(0,t.yg)("mi",{parentName:"mrow"},"j"),(0,t.yg)("mo",{parentName:"mrow",mathvariant:"normal"},"\u2260"),(0,t.yg)("mi",{parentName:"mrow"},"i"))),(0,t.yg)("mrow",{parentName:"mrow"},(0,t.yg)("msub",{parentName:"mrow"},(0,t.yg)("mi",{parentName:"msub"},"n"),(0,t.yg)("mrow",{parentName:"msub"},(0,t.yg)("mi",{parentName:"mrow"},"i"),(0,t.yg)("mi",{parentName:"mrow"},"j"))),(0,t.yg)("mover",{parentName:"mrow",accent:"true"},(0,t.yg)("msub",{parentName:"mover"},(0,t.yg)("mi",{parentName:"msub"},"v"),(0,t.yg)("mi",{parentName:"msub"},"j")),(0,t.yg)("mo",{parentName:"mover"},"\u20d7")),(0,t.yg)("mo",{parentName:"mrow",stretchy:"false"},"("),(0,t.yg)("mi",{parentName:"mrow"},"t"),(0,t.yg)("mo",{parentName:"mrow",stretchy:"false"},")")),(0,t.yg)("mo",{parentName:"mrow",fence:"true"},"]")),(0,t.yg)("mo",{parentName:"mrow",separator:"true"},",")),(0,t.yg)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"\\vec{v_i}(t+1) = v_{0}\\mathscr{R}_{\\eta}\\Theta \\left[ \\vec{v_i}(t) + \\sum_{ j \\neq i }{ n_{ij} \\vec{v_j}(t) } \\right] ,")))),(0,t.yg)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,t.yg)("span",{parentName:"span",className:"base"},(0,t.yg)("span",{parentName:"span",className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,t.yg)("span",{parentName:"span",className:"mord accent"},(0,t.yg)("span",{parentName:"span",className:"vlist-t vlist-t2"},(0,t.yg)("span",{parentName:"span",className:"vlist-r"},(0,t.yg)("span",{parentName:"span",className:"vlist",style:{height:"0.714em"}},(0,t.yg)("span",{parentName:"span",style:{top:"-3em"}},(0,t.yg)("span",{parentName:"span",className:"pstrut",style:{height:"3em"}}),(0,t.yg)("span",{parentName:"span",className:"mord"},(0,t.yg)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.03588em"}},"v"),(0,t.yg)("span",{parentName:"span",className:"msupsub"},(0,t.yg)("span",{parentName:"span",className:"vlist-t vlist-t2"},(0,t.yg)("span",{parentName:"span",className:"vlist-r"},(0,t.yg)("span",{parentName:"span",className:"vlist",style:{height:"0.3117em"}},(0,t.yg)("span",{parentName:"span",style:{top:"-2.55em",marginLeft:"-0.0359em",marginRight:"0.05em"}},(0,t.yg)("span",{parentName:"span",className:"pstrut",style:{height:"2.7em"}}),(0,t.yg)("span",{parentName:"span",className:"sizing reset-size6 size3 mtight"},(0,t.yg)("span",{parentName:"span",className:"mord mathnormal mtight"},"i")))),(0,t.yg)("span",{parentName:"span",className:"vlist-s"},"\u200b")),(0,t.yg)("span",{parentName:"span",className:"vlist-r"},(0,t.yg)("span",{parentName:"span",className:"vlist",style:{height:"0.15em"}},(0,t.yg)("span",{parentName:"span"}))))))),(0,t.yg)("span",{parentName:"span",style:{top:"-3em"}},(0,t.yg)("span",{parentName:"span",className:"pstrut",style:{height:"3em"}}),(0,t.yg)("span",{parentName:"span",className:"accent-body",style:{left:"-0.2355em"}},(0,t.yg)("span",{parentName:"span",className:"overlay",style:{height:"0.714em",width:"0.471em"}},(0,t.yg)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"0.471em",height:"0.714em",style:{width:"0.471em"},viewBox:"0 0 471 714",preserveAspectRatio:"xMinYMin"},(0,t.yg)("path",{parentName:"svg",d:"M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5\n3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11\n10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63\n-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1\n-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59\nH213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359\nc-16-25.333-24-45-24-59z"})))))),(0,t.yg)("span",{parentName:"span",className:"vlist-s"},"\u200b")),(0,t.yg)("span",{parentName:"span",className:"vlist-r"},(0,t.yg)("span",{parentName:"span",className:"vlist",style:{height:"0.15em"}},(0,t.yg)("span",{parentName:"span"}))))),(0,t.yg)("span",{parentName:"span",className:"mopen"},"("),(0,t.yg)("span",{parentName:"span",className:"mord mathnormal"},"t"),(0,t.yg)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2222em"}}),(0,t.yg)("span",{parentName:"span",className:"mbin"},"+"),(0,t.yg)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2222em"}})),(0,t.yg)("span",{parentName:"span",className:"base"},(0,t.yg)("span",{parentName:"span",className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,t.yg)("span",{parentName:"span",className:"mord"},"1"),(0,t.yg)("span",{parentName:"span",className:"mclose"},")"),(0,t.yg)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2778em"}}),(0,t.yg)("span",{parentName:"span",className:"mrel"},"="),(0,t.yg)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2778em"}})),(0,t.yg)("span",{parentName:"span",className:"base"},(0,t.yg)("span",{parentName:"span",className:"strut",style:{height:"3.6em",verticalAlign:"-1.55em"}}),(0,t.yg)("span",{parentName:"span",className:"mord"},(0,t.yg)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.03588em"}},"v"),(0,t.yg)("span",{parentName:"span",className:"msupsub"},(0,t.yg)("span",{parentName:"span",className:"vlist-t vlist-t2"},(0,t.yg)("span",{parentName:"span",className:"vlist-r"},(0,t.yg)("span",{parentName:"span",className:"vlist",style:{height:"0.3011em"}},(0,t.yg)("span",{parentName:"span",style:{top:"-2.55em",marginLeft:"-0.0359em",marginRight:"0.05em"}},(0,t.yg)("span",{parentName:"span",className:"pstrut",style:{height:"2.7em"}}),(0,t.yg)("span",{parentName:"span",className:"sizing reset-size6 size3 mtight"},(0,t.yg)("span",{parentName:"span",className:"mord mtight"},(0,t.yg)("span",{parentName:"span",className:"mord mtight"},"0"))))),(0,t.yg)("span",{parentName:"span",className:"vlist-s"},"\u200b")),(0,t.yg)("span",{parentName:"span",className:"vlist-r"},(0,t.yg)("span",{parentName:"span",className:"vlist",style:{height:"0.15em"}},(0,t.yg)("span",{parentName:"span"})))))),(0,t.yg)("span",{parentName:"span",className:"mord"},(0,t.yg)("span",{parentName:"span",className:"mord mathscr",style:{marginRight:"0.06259em"}},"R"),(0,t.yg)("span",{parentName:"span",className:"msupsub"},(0,t.yg)("span",{parentName:"span",className:"vlist-t vlist-t2"},(0,t.yg)("span",{parentName:"span",className:"vlist-r"},(0,t.yg)("span",{parentName:"span",className:"vlist",style:{height:"0.1514em"}},(0,t.yg)("span",{parentName:"span",style:{top:"-2.55em",marginLeft:"-0.0626em",marginRight:"0.05em"}},(0,t.yg)("span",{parentName:"span",className:"pstrut",style:{height:"2.7em"}}),(0,t.yg)("span",{parentName:"span",className:"sizing reset-size6 size3 mtight"},(0,t.yg)("span",{parentName:"span",className:"mord mtight"},(0,t.yg)("span",{parentName:"span",className:"mord mathnormal mtight",style:{marginRight:"0.03588em"}},"\u03b7"))))),(0,t.yg)("span",{parentName:"span",className:"vlist-s"},"\u200b")),(0,t.yg)("span",{parentName:"span",className:"vlist-r"},(0,t.yg)("span",{parentName:"span",className:"vlist",style:{height:"0.2861em"}},(0,t.yg)("span",{parentName:"span"})))))),(0,t.yg)("span",{parentName:"span",className:"mord"},"\u0398"),(0,t.yg)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.1667em"}}),(0,t.yg)("span",{parentName:"span",className:"minner"},(0,t.yg)("span",{parentName:"span",className:"mopen"},(0,t.yg)("span",{parentName:"span",className:"delimsizing mult"},(0,t.yg)("span",{parentName:"span",className:"vlist-t vlist-t2"},(0,t.yg)("span",{parentName:"span",className:"vlist-r"},(0,t.yg)("span",{parentName:"span",className:"vlist",style:{height:"2.05em"}},(0,t.yg)("span",{parentName:"span",style:{top:"-2.25em"}},(0,t.yg)("span",{parentName:"span",className:"pstrut",style:{height:"3.155em"}}),(0,t.yg)("span",{parentName:"span",className:"delimsizinginner delim-size4"},(0,t.yg)("span",{parentName:"span"},"\u23a3"))),(0,t.yg)("span",{parentName:"span",style:{top:"-3.397em"}},(0,t.yg)("span",{parentName:"span",className:"pstrut",style:{height:"3.155em"}}),(0,t.yg)("span",{parentName:"span",style:{height:"0.016em",width:"0.6667em"}},(0,t.yg)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"0.6667em",height:"0.016em",style:{width:"0.6667em"},viewBox:"0 0 666.67 16",preserveAspectRatio:"xMinYMin"},(0,t.yg)("path",{parentName:"svg",d:"M319 0 H403 V16 H319z M319 0 H403 V16 H319z"})))),(0,t.yg)("span",{parentName:"span",style:{top:"-4.05em"}},(0,t.yg)("span",{parentName:"span",className:"pstrut",style:{height:"3.155em"}}),(0,t.yg)("span",{parentName:"span",className:"delimsizinginner delim-size4"},(0,t.yg)("span",{parentName:"span"},"\u23a1")))),(0,t.yg)("span",{parentName:"span",className:"vlist-s"},"\u200b")),(0,t.yg)("span",{parentName:"span",className:"vlist-r"},(0,t.yg)("span",{parentName:"span",className:"vlist",style:{height:"1.55em"}},(0,t.yg)("span",{parentName:"span"})))))),(0,t.yg)("span",{parentName:"span",className:"mord accent"},(0,t.yg)("span",{parentName:"span",className:"vlist-t vlist-t2"},(0,t.yg)("span",{parentName:"span",className:"vlist-r"},(0,t.yg)("span",{parentName:"span",className:"vlist",style:{height:"0.714em"}},(0,t.yg)("span",{parentName:"span",style:{top:"-3em"}},(0,t.yg)("span",{parentName:"span",className:"pstrut",style:{height:"3em"}}),(0,t.yg)("span",{parentName:"span",className:"mord"},(0,t.yg)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.03588em"}},"v"),(0,t.yg)("span",{parentName:"span",className:"msupsub"},(0,t.yg)("span",{parentName:"span",className:"vlist-t vlist-t2"},(0,t.yg)("span",{parentName:"span",className:"vlist-r"},(0,t.yg)("span",{parentName:"span",className:"vlist",style:{height:"0.3117em"}},(0,t.yg)("span",{parentName:"span",style:{top:"-2.55em",marginLeft:"-0.0359em",marginRight:"0.05em"}},(0,t.yg)("span",{parentName:"span",className:"pstrut",style:{height:"2.7em"}}),(0,t.yg)("span",{parentName:"span",className:"sizing reset-size6 size3 mtight"},(0,t.yg)("span",{parentName:"span",className:"mord mathnormal mtight"},"i")))),(0,t.yg)("span",{parentName:"span",className:"vlist-s"},"\u200b")),(0,t.yg)("span",{parentName:"span",className:"vlist-r"},(0,t.yg)("span",{parentName:"span",className:"vlist",style:{height:"0.15em"}},(0,t.yg)("span",{parentName:"span"}))))))),(0,t.yg)("span",{parentName:"span",style:{top:"-3em"}},(0,t.yg)("span",{parentName:"span",className:"pstrut",style:{height:"3em"}}),(0,t.yg)("span",{parentName:"span",className:"accent-body",style:{left:"-0.2355em"}},(0,t.yg)("span",{parentName:"span",className:"overlay",style:{height:"0.714em",width:"0.471em"}},(0,t.yg)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"0.471em",height:"0.714em",style:{width:"0.471em"},viewBox:"0 0 471 714",preserveAspectRatio:"xMinYMin"},(0,t.yg)("path",{parentName:"svg",d:"M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5\n3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11\n10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63\n-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1\n-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59\nH213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359\nc-16-25.333-24-45-24-59z"})))))),(0,t.yg)("span",{parentName:"span",className:"vlist-s"},"\u200b")),(0,t.yg)("span",{parentName:"span",className:"vlist-r"},(0,t.yg)("span",{parentName:"span",className:"vlist",style:{height:"0.15em"}},(0,t.yg)("span",{parentName:"span"}))))),(0,t.yg)("span",{parentName:"span",className:"mopen"},"("),(0,t.yg)("span",{parentName:"span",className:"mord mathnormal"},"t"),(0,t.yg)("span",{parentName:"span",className:"mclose"},")"),(0,t.yg)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2222em"}}),(0,t.yg)("span",{parentName:"span",className:"mbin"},"+"),(0,t.yg)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2222em"}}),(0,t.yg)("span",{parentName:"span",className:"mop op-limits"},(0,t.yg)("span",{parentName:"span",className:"vlist-t vlist-t2"},(0,t.yg)("span",{parentName:"span",className:"vlist-r"},(0,t.yg)("span",{parentName:"span",className:"vlist",style:{height:"1.05em"}},(0,t.yg)("span",{parentName:"span",style:{top:"-1.8479em",marginLeft:"0em"}},(0,t.yg)("span",{parentName:"span",className:"pstrut",style:{height:"3.05em"}}),(0,t.yg)("span",{parentName:"span",className:"sizing reset-size6 size3 mtight"},(0,t.yg)("span",{parentName:"span",className:"mord mtight"},(0,t.yg)("span",{parentName:"span",className:"mord mathnormal mtight",style:{marginRight:"0.05724em"}},"j"),(0,t.yg)("span",{parentName:"span",className:"mrel mtight"},(0,t.yg)("span",{parentName:"span",className:"mrel mtight"},(0,t.yg)("span",{parentName:"span",className:"mord vbox mtight"},(0,t.yg)("span",{parentName:"span",className:"thinbox mtight"},(0,t.yg)("span",{parentName:"span",className:"rlap mtight"},(0,t.yg)("span",{parentName:"span",className:"strut",style:{height:"0.8889em",verticalAlign:"-0.1944em"}}),(0,t.yg)("span",{parentName:"span",className:"inner"},(0,t.yg)("span",{parentName:"span",className:"mord mtight"},(0,t.yg)("span",{parentName:"span",className:"mrel mtight"},"\ue020"))),(0,t.yg)("span",{parentName:"span",className:"fix"}))))),(0,t.yg)("span",{parentName:"span",className:"mrel mtight"},"=")),(0,t.yg)("span",{parentName:"span",className:"mord mathnormal mtight"},"i")))),(0,t.yg)("span",{parentName:"span",style:{top:"-3.05em"}},(0,t.yg)("span",{parentName:"span",className:"pstrut",style:{height:"3.05em"}}),(0,t.yg)("span",{parentName:"span"},(0,t.yg)("span",{parentName:"span",className:"mop op-symbol large-op"},"\u2211")))),(0,t.yg)("span",{parentName:"span",className:"vlist-s"},"\u200b")),(0,t.yg)("span",{parentName:"span",className:"vlist-r"},(0,t.yg)("span",{parentName:"span",className:"vlist",style:{height:"1.4382em"}},(0,t.yg)("span",{parentName:"span"}))))),(0,t.yg)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.1667em"}}),(0,t.yg)("span",{parentName:"span",className:"mord"},(0,t.yg)("span",{parentName:"span",className:"mord"},(0,t.yg)("span",{parentName:"span",className:"mord mathnormal"},"n"),(0,t.yg)("span",{parentName:"span",className:"msupsub"},(0,t.yg)("span",{parentName:"span",className:"vlist-t vlist-t2"},(0,t.yg)("span",{parentName:"span",className:"vlist-r"},(0,t.yg)("span",{parentName:"span",className:"vlist",style:{height:"0.3117em"}},(0,t.yg)("span",{parentName:"span",style:{top:"-2.55em",marginLeft:"0em",marginRight:"0.05em"}},(0,t.yg)("span",{parentName:"span",className:"pstrut",style:{height:"2.7em"}}),(0,t.yg)("span",{parentName:"span",className:"sizing reset-size6 size3 mtight"},(0,t.yg)("span",{parentName:"span",className:"mord mtight"},(0,t.yg)("span",{parentName:"span",className:"mord mathnormal mtight",style:{marginRight:"0.05724em"}},"ij"))))),(0,t.yg)("span",{parentName:"span",className:"vlist-s"},"\u200b")),(0,t.yg)("span",{parentName:"span",className:"vlist-r"},(0,t.yg)("span",{parentName:"span",className:"vlist",style:{height:"0.2861em"}},(0,t.yg)("span",{parentName:"span"})))))),(0,t.yg)("span",{parentName:"span",className:"mord accent"},(0,t.yg)("span",{parentName:"span",className:"vlist-t vlist-t2"},(0,t.yg)("span",{parentName:"span",className:"vlist-r"},(0,t.yg)("span",{parentName:"span",className:"vlist",style:{height:"0.714em"}},(0,t.yg)("span",{parentName:"span",style:{top:"-3em"}},(0,t.yg)("span",{parentName:"span",className:"pstrut",style:{height:"3em"}}),(0,t.yg)("span",{parentName:"span",className:"mord"},(0,t.yg)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.03588em"}},"v"),(0,t.yg)("span",{parentName:"span",className:"msupsub"},(0,t.yg)("span",{parentName:"span",className:"vlist-t vlist-t2"},(0,t.yg)("span",{parentName:"span",className:"vlist-r"},(0,t.yg)("span",{parentName:"span",className:"vlist",style:{height:"0.3117em"}},(0,t.yg)("span",{parentName:"span",style:{top:"-2.55em",marginLeft:"-0.0359em",marginRight:"0.05em"}},(0,t.yg)("span",{parentName:"span",className:"pstrut",style:{height:"2.7em"}}),(0,t.yg)("span",{parentName:"span",className:"sizing reset-size6 size3 mtight"},(0,t.yg)("span",{parentName:"span",className:"mord mathnormal mtight",style:{marginRight:"0.05724em"}},"j")))),(0,t.yg)("span",{parentName:"span",className:"vlist-s"},"\u200b")),(0,t.yg)("span",{parentName:"span",className:"vlist-r"},(0,t.yg)("span",{parentName:"span",className:"vlist",style:{height:"0.2861em"}},(0,t.yg)("span",{parentName:"span"}))))))),(0,t.yg)("span",{parentName:"span",style:{top:"-3em"}},(0,t.yg)("span",{parentName:"span",className:"pstrut",style:{height:"3em"}}),(0,t.yg)("span",{parentName:"span",className:"accent-body",style:{left:"-0.2355em"}},(0,t.yg)("span",{parentName:"span",className:"overlay",style:{height:"0.714em",width:"0.471em"}},(0,t.yg)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"0.471em",height:"0.714em",style:{width:"0.471em"},viewBox:"0 0 471 714",preserveAspectRatio:"xMinYMin"},(0,t.yg)("path",{parentName:"svg",d:"M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5\n3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11\n10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63\n-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1\n-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59\nH213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359\nc-16-25.333-24-45-24-59z"})))))),(0,t.yg)("span",{parentName:"span",className:"vlist-s"},"\u200b")),(0,t.yg)("span",{parentName:"span",className:"vlist-r"},(0,t.yg)("span",{parentName:"span",className:"vlist",style:{height:"0.2861em"}},(0,t.yg)("span",{parentName:"span"}))))),(0,t.yg)("span",{parentName:"span",className:"mopen"},"("),(0,t.yg)("span",{parentName:"span",className:"mord mathnormal"},"t"),(0,t.yg)("span",{parentName:"span",className:"mclose"},")")),(0,t.yg)("span",{parentName:"span",className:"mclose"},(0,t.yg)("span",{parentName:"span",className:"delimsizing mult"},(0,t.yg)("span",{parentName:"span",className:"vlist-t vlist-t2"},(0,t.yg)("span",{parentName:"span",className:"vlist-r"},(0,t.yg)("span",{parentName:"span",className:"vlist",style:{height:"2.05em"}},(0,t.yg)("span",{parentName:"span",style:{top:"-2.25em"}},(0,t.yg)("span",{parentName:"span",className:"pstrut",style:{height:"3.155em"}}),(0,t.yg)("span",{parentName:"span",className:"delimsizinginner delim-size4"},(0,t.yg)("span",{parentName:"span"},"\u23a6"))),(0,t.yg)("span",{parentName:"span",style:{top:"-3.397em"}},(0,t.yg)("span",{parentName:"span",className:"pstrut",style:{height:"3.155em"}}),(0,t.yg)("span",{parentName:"span",style:{height:"0.016em",width:"0.6667em"}},(0,t.yg)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"0.6667em",height:"0.016em",style:{width:"0.6667em"},viewBox:"0 0 666.67 16",preserveAspectRatio:"xMinYMin"},(0,t.yg)("path",{parentName:"svg",d:"M263 0 H347 V16 H263z M263 0 H347 V16 H263z"})))),(0,t.yg)("span",{parentName:"span",style:{top:"-4.05em"}},(0,t.yg)("span",{parentName:"span",className:"pstrut",style:{height:"3.155em"}}),(0,t.yg)("span",{parentName:"span",className:"delimsizinginner delim-size4"},(0,t.yg)("span",{parentName:"span"},"\u23a4")))),(0,t.yg)("span",{parentName:"span",className:"vlist-s"},"\u200b")),(0,t.yg)("span",{parentName:"span",className:"vlist-r"},(0,t.yg)("span",{parentName:"span",className:"vlist",style:{height:"1.55em"}},(0,t.yg)("span",{parentName:"span"}))))))),(0,t.yg)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.1667em"}}),(0,t.yg)("span",{parentName:"span",className:"mpunct"},",")))))),(0,t.yg)("div",{className:"math math-display"},(0,t.yg)("span",{parentName:"div",className:"katex-display"},(0,t.yg)("span",{parentName:"span",className:"katex"},(0,t.yg)("span",{parentName:"span",className:"katex-mathml"},(0,t.yg)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},(0,t.yg)("semantics",{parentName:"math"},(0,t.yg)("mrow",{parentName:"semantics"},(0,t.yg)("mover",{parentName:"mrow",accent:"true"},(0,t.yg)("msub",{parentName:"mover"},(0,t.yg)("mi",{parentName:"msub"},"r"),(0,t.yg)("mi",{parentName:"msub"},"i")),(0,t.yg)("mo",{parentName:"mover"},"\u20d7")),(0,t.yg)("mo",{parentName:"mrow",stretchy:"false"},"("),(0,t.yg)("mi",{parentName:"mrow"},"t"),(0,t.yg)("mo",{parentName:"mrow"},"+"),(0,t.yg)("mn",{parentName:"mrow"},"1"),(0,t.yg)("mo",{parentName:"mrow",stretchy:"false"},")"),(0,t.yg)("mo",{parentName:"mrow"},"="),(0,t.yg)("mover",{parentName:"mrow",accent:"true"},(0,t.yg)("msub",{parentName:"mover"},(0,t.yg)("mi",{parentName:"msub"},"r"),(0,t.yg)("mi",{parentName:"msub"},"i")),(0,t.yg)("mo",{parentName:"mover"},"\u20d7")),(0,t.yg)("mo",{parentName:"mrow",stretchy:"false"},"("),(0,t.yg)("mi",{parentName:"mrow"},"t"),(0,t.yg)("mo",{parentName:"mrow",stretchy:"false"},")"),(0,t.yg)("mo",{parentName:"mrow"},"+"),(0,t.yg)("mover",{parentName:"mrow",accent:"true"},(0,t.yg)("msub",{parentName:"mover"},(0,t.yg)("mi",{parentName:"msub"},"v"),(0,t.yg)("mi",{parentName:"msub"},"i")),(0,t.yg)("mo",{parentName:"mover"},"\u20d7")),(0,t.yg)("mo",{parentName:"mrow",stretchy:"false"},"("),(0,t.yg)("mi",{parentName:"mrow"},"t"),(0,t.yg)("mo",{parentName:"mrow"},"+"),(0,t.yg)("mn",{parentName:"mrow"},"1"),(0,t.yg)("mo",{parentName:"mrow",stretchy:"false"},")"),(0,t.yg)("mi",{parentName:"mrow",mathvariant:"normal"},".")),(0,t.yg)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"\\vec{r_i}(t+1) = \\vec{r_i}(t) + \\vec{v_i}(t+1) .")))),(0,t.yg)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,t.yg)("span",{parentName:"span",className:"base"},(0,t.yg)("span",{parentName:"span",className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,t.yg)("span",{parentName:"span",className:"mord accent"},(0,t.yg)("span",{parentName:"span",className:"vlist-t vlist-t2"},(0,t.yg)("span",{parentName:"span",className:"vlist-r"},(0,t.yg)("span",{parentName:"span",className:"vlist",style:{height:"0.714em"}},(0,t.yg)("span",{parentName:"span",style:{top:"-3em"}},(0,t.yg)("span",{parentName:"span",className:"pstrut",style:{height:"3em"}}),(0,t.yg)("span",{parentName:"span",className:"mord"},(0,t.yg)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.02778em"}},"r"),(0,t.yg)("span",{parentName:"span",className:"msupsub"},(0,t.yg)("span",{parentName:"span",className:"vlist-t vlist-t2"},(0,t.yg)("span",{parentName:"span",className:"vlist-r"},(0,t.yg)("span",{parentName:"span",className:"vlist",style:{height:"0.3117em"}},(0,t.yg)("span",{parentName:"span",style:{top:"-2.55em",marginLeft:"-0.0278em",marginRight:"0.05em"}},(0,t.yg)("span",{parentName:"span",className:"pstrut",style:{height:"2.7em"}}),(0,t.yg)("span",{parentName:"span",className:"sizing reset-size6 size3 mtight"},(0,t.yg)("span",{parentName:"span",className:"mord mathnormal mtight"},"i")))),(0,t.yg)("span",{parentName:"span",className:"vlist-s"},"\u200b")),(0,t.yg)("span",{parentName:"span",className:"vlist-r"},(0,t.yg)("span",{parentName:"span",className:"vlist",style:{height:"0.15em"}},(0,t.yg)("span",{parentName:"span"}))))))),(0,t.yg)("span",{parentName:"span",style:{top:"-3em"}},(0,t.yg)("span",{parentName:"span",className:"pstrut",style:{height:"3em"}}),(0,t.yg)("span",{parentName:"span",className:"accent-body",style:{left:"-0.2355em"}},(0,t.yg)("span",{parentName:"span",className:"overlay",style:{height:"0.714em",width:"0.471em"}},(0,t.yg)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"0.471em",height:"0.714em",style:{width:"0.471em"},viewBox:"0 0 471 714",preserveAspectRatio:"xMinYMin"},(0,t.yg)("path",{parentName:"svg",d:"M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5\n3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11\n10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63\n-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1\n-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59\nH213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359\nc-16-25.333-24-45-24-59z"})))))),(0,t.yg)("span",{parentName:"span",className:"vlist-s"},"\u200b")),(0,t.yg)("span",{parentName:"span",className:"vlist-r"},(0,t.yg)("span",{parentName:"span",className:"vlist",style:{height:"0.15em"}},(0,t.yg)("span",{parentName:"span"}))))),(0,t.yg)("span",{parentName:"span",className:"mopen"},"("),(0,t.yg)("span",{parentName:"span",className:"mord mathnormal"},"t"),(0,t.yg)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2222em"}}),(0,t.yg)("span",{parentName:"span",className:"mbin"},"+"),(0,t.yg)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2222em"}})),(0,t.yg)("span",{parentName:"span",className:"base"},(0,t.yg)("span",{parentName:"span",className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,t.yg)("span",{parentName:"span",className:"mord"},"1"),(0,t.yg)("span",{parentName:"span",className:"mclose"},")"),(0,t.yg)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2778em"}}),(0,t.yg)("span",{parentName:"span",className:"mrel"},"="),(0,t.yg)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2778em"}})),(0,t.yg)("span",{parentName:"span",className:"base"},(0,t.yg)("span",{parentName:"span",className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,t.yg)("span",{parentName:"span",className:"mord accent"},(0,t.yg)("span",{parentName:"span",className:"vlist-t vlist-t2"},(0,t.yg)("span",{parentName:"span",className:"vlist-r"},(0,t.yg)("span",{parentName:"span",className:"vlist",style:{height:"0.714em"}},(0,t.yg)("span",{parentName:"span",style:{top:"-3em"}},(0,t.yg)("span",{parentName:"span",className:"pstrut",style:{height:"3em"}}),(0,t.yg)("span",{parentName:"span",className:"mord"},(0,t.yg)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.02778em"}},"r"),(0,t.yg)("span",{parentName:"span",className:"msupsub"},(0,t.yg)("span",{parentName:"span",className:"vlist-t vlist-t2"},(0,t.yg)("span",{parentName:"span",className:"vlist-r"},(0,t.yg)("span",{parentName:"span",className:"vlist",style:{height:"0.3117em"}},(0,t.yg)("span",{parentName:"span",style:{top:"-2.55em",marginLeft:"-0.0278em",marginRight:"0.05em"}},(0,t.yg)("span",{parentName:"span",className:"pstrut",style:{height:"2.7em"}}),(0,t.yg)("span",{parentName:"span",className:"sizing reset-size6 size3 mtight"},(0,t.yg)("span",{parentName:"span",className:"mord mathnormal mtight"},"i")))),(0,t.yg)("span",{parentName:"span",className:"vlist-s"},"\u200b")),(0,t.yg)("span",{parentName:"span",className:"vlist-r"},(0,t.yg)("span",{parentName:"span",className:"vlist",style:{height:"0.15em"}},(0,t.yg)("span",{parentName:"span"}))))))),(0,t.yg)("span",{parentName:"span",style:{top:"-3em"}},(0,t.yg)("span",{parentName:"span",className:"pstrut",style:{height:"3em"}}),(0,t.yg)("span",{parentName:"span",className:"accent-body",style:{left:"-0.2355em"}},(0,t.yg)("span",{parentName:"span",className:"overlay",style:{height:"0.714em",width:"0.471em"}},(0,t.yg)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"0.471em",height:"0.714em",style:{width:"0.471em"},viewBox:"0 0 471 714",preserveAspectRatio:"xMinYMin"},(0,t.yg)("path",{parentName:"svg",d:"M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5\n3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11\n10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63\n-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1\n-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59\nH213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359\nc-16-25.333-24-45-24-59z"})))))),(0,t.yg)("span",{parentName:"span",className:"vlist-s"},"\u200b")),(0,t.yg)("span",{parentName:"span",className:"vlist-r"},(0,t.yg)("span",{parentName:"span",className:"vlist",style:{height:"0.15em"}},(0,t.yg)("span",{parentName:"span"}))))),(0,t.yg)("span",{parentName:"span",className:"mopen"},"("),(0,t.yg)("span",{parentName:"span",className:"mord mathnormal"},"t"),(0,t.yg)("span",{parentName:"span",className:"mclose"},")"),(0,t.yg)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2222em"}}),(0,t.yg)("span",{parentName:"span",className:"mbin"},"+"),(0,t.yg)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2222em"}})),(0,t.yg)("span",{parentName:"span",className:"base"},(0,t.yg)("span",{parentName:"span",className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,t.yg)("span",{parentName:"span",className:"mord accent"},(0,t.yg)("span",{parentName:"span",className:"vlist-t vlist-t2"},(0,t.yg)("span",{parentName:"span",className:"vlist-r"},(0,t.yg)("span",{parentName:"span",className:"vlist",style:{height:"0.714em"}},(0,t.yg)("span",{parentName:"span",style:{top:"-3em"}},(0,t.yg)("span",{parentName:"span",className:"pstrut",style:{height:"3em"}}),(0,t.yg)("span",{parentName:"span",className:"mord"},(0,t.yg)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.03588em"}},"v"),(0,t.yg)("span",{parentName:"span",className:"msupsub"},(0,t.yg)("span",{parentName:"span",className:"vlist-t vlist-t2"},(0,t.yg)("span",{parentName:"span",className:"vlist-r"},(0,t.yg)("span",{parentName:"span",className:"vlist",style:{height:"0.3117em"}},(0,t.yg)("span",{parentName:"span",style:{top:"-2.55em",marginLeft:"-0.0359em",marginRight:"0.05em"}},(0,t.yg)("span",{parentName:"span",className:"pstrut",style:{height:"2.7em"}}),(0,t.yg)("span",{parentName:"span",className:"sizing reset-size6 size3 mtight"},(0,t.yg)("span",{parentName:"span",className:"mord mathnormal mtight"},"i")))),(0,t.yg)("span",{parentName:"span",className:"vlist-s"},"\u200b")),(0,t.yg)("span",{parentName:"span",className:"vlist-r"},(0,t.yg)("span",{parentName:"span",className:"vlist",style:{height:"0.15em"}},(0,t.yg)("span",{parentName:"span"}))))))),(0,t.yg)("span",{parentName:"span",style:{top:"-3em"}},(0,t.yg)("span",{parentName:"span",className:"pstrut",style:{height:"3em"}}),(0,t.yg)("span",{parentName:"span",className:"accent-body",style:{left:"-0.2355em"}},(0,t.yg)("span",{parentName:"span",className:"overlay",style:{height:"0.714em",width:"0.471em"}},(0,t.yg)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"0.471em",height:"0.714em",style:{width:"0.471em"},viewBox:"0 0 471 714",preserveAspectRatio:"xMinYMin"},(0,t.yg)("path",{parentName:"svg",d:"M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5\n3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11\n10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63\n-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1\n-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59\nH213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359\nc-16-25.333-24-45-24-59z"})))))),(0,t.yg)("span",{parentName:"span",className:"vlist-s"},"\u200b")),(0,t.yg)("span",{parentName:"span",className:"vlist-r"},(0,t.yg)("span",{parentName:"span",className:"vlist",style:{height:"0.15em"}},(0,t.yg)("span",{parentName:"span"}))))),(0,t.yg)("span",{parentName:"span",className:"mopen"},"("),(0,t.yg)("span",{parentName:"span",className:"mord mathnormal"},"t"),(0,t.yg)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2222em"}}),(0,t.yg)("span",{parentName:"span",className:"mbin"},"+"),(0,t.yg)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2222em"}})),(0,t.yg)("span",{parentName:"span",className:"base"},(0,t.yg)("span",{parentName:"span",className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,t.yg)("span",{parentName:"span",className:"mord"},"1"),(0,t.yg)("span",{parentName:"span",className:"mclose"},")"),(0,t.yg)("span",{parentName:"span",className:"mord"},".")))))),(0,t.yg)("p",null,"So what do we see here? The first main thing to realise is that the first equation signifies calculation of velocity for the next point in time (call it second for example), and the second one is calculating the position ",(0,t.yg)("span",{parentName:"p",className:"math math-inline"},(0,t.yg)("span",{parentName:"span",className:"katex"},(0,t.yg)("span",{parentName:"span",className:"katex-mathml"},(0,t.yg)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,t.yg)("semantics",{parentName:"math"},(0,t.yg)("mrow",{parentName:"semantics"},(0,t.yg)("mover",{parentName:"mrow",accent:"true"},(0,t.yg)("mi",{parentName:"mover"},"r"),(0,t.yg)("mo",{parentName:"mover"},"\u20d7"))),(0,t.yg)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"\\vec{r}")))),(0,t.yg)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,t.yg)("span",{parentName:"span",className:"base"},(0,t.yg)("span",{parentName:"span",className:"strut",style:{height:"0.714em"}}),(0,t.yg)("span",{parentName:"span",className:"mord accent"},(0,t.yg)("span",{parentName:"span",className:"vlist-t"},(0,t.yg)("span",{parentName:"span",className:"vlist-r"},(0,t.yg)("span",{parentName:"span",className:"vlist",style:{height:"0.714em"}},(0,t.yg)("span",{parentName:"span",style:{top:"-3em"}},(0,t.yg)("span",{parentName:"span",className:"pstrut",style:{height:"3em"}}),(0,t.yg)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.02778em"}},"r")),(0,t.yg)("span",{parentName:"span",style:{top:"-3em"}},(0,t.yg)("span",{parentName:"span",className:"pstrut",style:{height:"3em"}}),(0,t.yg)("span",{parentName:"span",className:"accent-body",style:{left:"-0.1799em"}},(0,t.yg)("span",{parentName:"span",className:"overlay",style:{height:"0.714em",width:"0.471em"}},(0,t.yg)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"0.471em",height:"0.714em",style:{width:"0.471em"},viewBox:"0 0 471 714",preserveAspectRatio:"xMinYMin"},(0,t.yg)("path",{parentName:"svg",d:"M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5\n3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11\n10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63\n-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1\n-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59\nH213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359\nc-16-25.333-24-45-24-59z"})))))))))))))," for that next point in time. They are both vectors, since we want to generalise these equations to any number of dimensions we're interested in (we'll work in 3D). The index in ",(0,t.yg)("span",{parentName:"p",className:"math math-inline"},(0,t.yg)("span",{parentName:"span",className:"katex"},(0,t.yg)("span",{parentName:"span",className:"katex-mathml"},(0,t.yg)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,t.yg)("semantics",{parentName:"math"},(0,t.yg)("mrow",{parentName:"semantics"},(0,t.yg)("mover",{parentName:"mrow",accent:"true"},(0,t.yg)("msub",{parentName:"mover"},(0,t.yg)("mi",{parentName:"msub"},"v"),(0,t.yg)("mi",{parentName:"msub"},"i")),(0,t.yg)("mo",{parentName:"mover"},"\u20d7"))),(0,t.yg)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"\\vec{v_i}")))),(0,t.yg)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,t.yg)("span",{parentName:"span",className:"base"},(0,t.yg)("span",{parentName:"span",className:"strut",style:{height:"0.864em",verticalAlign:"-0.15em"}}),(0,t.yg)("span",{parentName:"span",className:"mord accent"},(0,t.yg)("span",{parentName:"span",className:"vlist-t vlist-t2"},(0,t.yg)("span",{parentName:"span",className:"vlist-r"},(0,t.yg)("span",{parentName:"span",className:"vlist",style:{height:"0.714em"}},(0,t.yg)("span",{parentName:"span",style:{top:"-3em"}},(0,t.yg)("span",{parentName:"span",className:"pstrut",style:{height:"3em"}}),(0,t.yg)("span",{parentName:"span",className:"mord"},(0,t.yg)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.03588em"}},"v"),(0,t.yg)("span",{parentName:"span",className:"msupsub"},(0,t.yg)("span",{parentName:"span",className:"vlist-t vlist-t2"},(0,t.yg)("span",{parentName:"span",className:"vlist-r"},(0,t.yg)("span",{parentName:"span",className:"vlist",style:{height:"0.3117em"}},(0,t.yg)("span",{parentName:"span",style:{top:"-2.55em",marginLeft:"-0.0359em",marginRight:"0.05em"}},(0,t.yg)("span",{parentName:"span",className:"pstrut",style:{height:"2.7em"}}),(0,t.yg)("span",{parentName:"span",className:"sizing reset-size6 size3 mtight"},(0,t.yg)("span",{parentName:"span",className:"mord mathnormal mtight"},"i")))),(0,t.yg)("span",{parentName:"span",className:"vlist-s"},"\u200b")),(0,t.yg)("span",{parentName:"span",className:"vlist-r"},(0,t.yg)("span",{parentName:"span",className:"vlist",style:{height:"0.15em"}},(0,t.yg)("span",{parentName:"span"}))))))),(0,t.yg)("span",{parentName:"span",style:{top:"-3em"}},(0,t.yg)("span",{parentName:"span",className:"pstrut",style:{height:"3em"}}),(0,t.yg)("span",{parentName:"span",className:"accent-body",style:{left:"-0.2355em"}},(0,t.yg)("span",{parentName:"span",className:"overlay",style:{height:"0.714em",width:"0.471em"}},(0,t.yg)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"0.471em",height:"0.714em",style:{width:"0.471em"},viewBox:"0 0 471 714",preserveAspectRatio:"xMinYMin"},(0,t.yg)("path",{parentName:"svg",d:"M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5\n3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11\n10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63\n-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1\n-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59\nH213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359\nc-16-25.333-24-45-24-59z"})))))),(0,t.yg)("span",{parentName:"span",className:"vlist-s"},"\u200b")),(0,t.yg)("span",{parentName:"span",className:"vlist-r"},(0,t.yg)("span",{parentName:"span",className:"vlist",style:{height:"0.15em"}},(0,t.yg)("span",{parentName:"span"})))))))))," and ",(0,t.yg)("span",{parentName:"p",className:"math math-inline"},(0,t.yg)("span",{parentName:"span",className:"katex"},(0,t.yg)("span",{parentName:"span",className:"katex-mathml"},(0,t.yg)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,t.yg)("semantics",{parentName:"math"},(0,t.yg)("mrow",{parentName:"semantics"},(0,t.yg)("mover",{parentName:"mrow",accent:"true"},(0,t.yg)("msub",{parentName:"mover"},(0,t.yg)("mi",{parentName:"msub"},"r"),(0,t.yg)("mi",{parentName:"msub"},"i")),(0,t.yg)("mo",{parentName:"mover"},"\u20d7"))),(0,t.yg)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"\\vec{r_i}")))),(0,t.yg)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,t.yg)("span",{parentName:"span",className:"base"},(0,t.yg)("span",{parentName:"span",className:"strut",style:{height:"0.864em",verticalAlign:"-0.15em"}}),(0,t.yg)("span",{parentName:"span",className:"mord accent"},(0,t.yg)("span",{parentName:"span",className:"vlist-t vlist-t2"},(0,t.yg)("span",{parentName:"span",className:"vlist-r"},(0,t.yg)("span",{parentName:"span",className:"vlist",style:{height:"0.714em"}},(0,t.yg)("span",{parentName:"span",style:{top:"-3em"}},(0,t.yg)("span",{parentName:"span",className:"pstrut",style:{height:"3em"}}),(0,t.yg)("span",{parentName:"span",className:"mord"},(0,t.yg)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.02778em"}},"r"),(0,t.yg)("span",{parentName:"span",className:"msupsub"},(0,t.yg)("span",{parentName:"span",className:"vlist-t vlist-t2"},(0,t.yg)("span",{parentName:"span",className:"vlist-r"},(0,t.yg)("span",{parentName:"span",className:"vlist",style:{height:"0.3117em"}},(0,t.yg)("span",{parentName:"span",style:{top:"-2.55em",marginLeft:"-0.0278em",marginRight:"0.05em"}},(0,t.yg)("span",{parentName:"span",className:"pstrut",style:{height:"2.7em"}}),(0,t.yg)("span",{parentName:"span",className:"sizing reset-size6 size3 mtight"},(0,t.yg)("span",{parentName:"span",className:"mord mathnormal mtight"},"i")))),(0,t.yg)("span",{parentName:"span",className:"vlist-s"},"\u200b")),(0,t.yg)("span",{parentName:"span",className:"vlist-r"},(0,t.yg)("span",{parentName:"span",className:"vlist",style:{height:"0.15em"}},(0,t.yg)("span",{parentName:"span"}))))))),(0,t.yg)("span",{parentName:"span",style:{top:"-3em"}},(0,t.yg)("span",{parentName:"span",className:"pstrut",style:{height:"3em"}}),(0,t.yg)("span",{parentName:"span",className:"accent-body",style:{left:"-0.2355em"}},(0,t.yg)("span",{parentName:"span",className:"overlay",style:{height:"0.714em",width:"0.471em"}},(0,t.yg)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"0.471em",height:"0.714em",style:{width:"0.471em"},viewBox:"0 0 471 714",preserveAspectRatio:"xMinYMin"},(0,t.yg)("path",{parentName:"svg",d:"M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5\n3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11\n10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63\n-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1\n-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59\nH213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359\nc-16-25.333-24-45-24-59z"})))))),(0,t.yg)("span",{parentName:"span",className:"vlist-s"},"\u200b")),(0,t.yg)("span",{parentName:"span",className:"vlist-r"},(0,t.yg)("span",{parentName:"span",className:"vlist",style:{height:"0.15em"}},(0,t.yg)("span",{parentName:"span"})))))))))," signify the index of the member in our group of particles. So we have the left hand side of both equations figured out. As you can see, the model is indeed very simple - just two equations for two things we need to keep track of - position and velocity. We don't even deal directly with accelerations (kind of, implicitly). Eighth grade physics, right?"),(0,t.yg)("p",null,"Now let's have a look at the right hand side. Let's start with the obviously easier one - the position equation (second one). All it says is that the position of particle ",(0,t.yg)("span",{parentName:"p",className:"math math-inline"},(0,t.yg)("span",{parentName:"span",className:"katex"},(0,t.yg)("span",{parentName:"span",className:"katex-mathml"},(0,t.yg)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,t.yg)("semantics",{parentName:"math"},(0,t.yg)("mrow",{parentName:"semantics"},(0,t.yg)("mi",{parentName:"mrow"},"i")),(0,t.yg)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"i")))),(0,t.yg)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,t.yg)("span",{parentName:"span",className:"base"},(0,t.yg)("span",{parentName:"span",className:"strut",style:{height:"0.6595em"}}),(0,t.yg)("span",{parentName:"span",className:"mord mathnormal"},"i")))))," at the next time step ",(0,t.yg)("span",{parentName:"p",className:"math math-inline"},(0,t.yg)("span",{parentName:"span",className:"katex"},(0,t.yg)("span",{parentName:"span",className:"katex-mathml"},(0,t.yg)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,t.yg)("semantics",{parentName:"math"},(0,t.yg)("mrow",{parentName:"semantics"},(0,t.yg)("mi",{parentName:"mrow"},"t"),(0,t.yg)("mo",{parentName:"mrow"},"+"),(0,t.yg)("mn",{parentName:"mrow"},"1")),(0,t.yg)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"t+1")))),(0,t.yg)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,t.yg)("span",{parentName:"span",className:"base"},(0,t.yg)("span",{parentName:"span",className:"strut",style:{height:"0.6984em",verticalAlign:"-0.0833em"}}),(0,t.yg)("span",{parentName:"span",className:"mord mathnormal"},"t"),(0,t.yg)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2222em"}}),(0,t.yg)("span",{parentName:"span",className:"mbin"},"+"),(0,t.yg)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2222em"}})),(0,t.yg)("span",{parentName:"span",className:"base"},(0,t.yg)("span",{parentName:"span",className:"strut",style:{height:"0.6444em"}}),(0,t.yg)("span",{parentName:"span",className:"mord"},"1")))))," is equal to the position of the particle at the current time step ",(0,t.yg)("span",{parentName:"p",className:"math math-inline"},(0,t.yg)("span",{parentName:"span",className:"katex"},(0,t.yg)("span",{parentName:"span",className:"katex-mathml"},(0,t.yg)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,t.yg)("semantics",{parentName:"math"},(0,t.yg)("mrow",{parentName:"semantics"},(0,t.yg)("mi",{parentName:"mrow"},"t")),(0,t.yg)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"t")))),(0,t.yg)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,t.yg)("span",{parentName:"span",className:"base"},(0,t.yg)("span",{parentName:"span",className:"strut",style:{height:"0.6151em"}}),(0,t.yg)("span",{parentName:"span",className:"mord mathnormal"},"t")))))," plus the (calculated in the first equation) velocity of that particle for time ",(0,t.yg)("span",{parentName:"p",className:"math math-inline"},(0,t.yg)("span",{parentName:"span",className:"katex"},(0,t.yg)("span",{parentName:"span",className:"katex-mathml"},(0,t.yg)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,t.yg)("semantics",{parentName:"math"},(0,t.yg)("mrow",{parentName:"semantics"},(0,t.yg)("mi",{parentName:"mrow"},"t"),(0,t.yg)("mo",{parentName:"mrow"},"+"),(0,t.yg)("mn",{parentName:"mrow"},"1")),(0,t.yg)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"t+1")))),(0,t.yg)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,t.yg)("span",{parentName:"span",className:"base"},(0,t.yg)("span",{parentName:"span",className:"strut",style:{height:"0.6984em",verticalAlign:"-0.0833em"}}),(0,t.yg)("span",{parentName:"span",className:"mord mathnormal"},"t"),(0,t.yg)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2222em"}}),(0,t.yg)("span",{parentName:"span",className:"mbin"},"+"),(0,t.yg)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2222em"}})),(0,t.yg)("span",{parentName:"span",className:"base"},(0,t.yg)("span",{parentName:"span",className:"strut",style:{height:"0.6444em"}}),(0,t.yg)("span",{parentName:"span",className:"mord"},"1"))))),". Basically just vector addition, nothing to worry about at all."),(0,t.yg)("p",null,"The velocity equation has a bit more going on in it, but nothing inherently difficult. Let's start with the terms in the brackets. We have the velocity of particle ",(0,t.yg)("span",{parentName:"p",className:"math math-inline"},(0,t.yg)("span",{parentName:"span",className:"katex"},(0,t.yg)("span",{parentName:"span",className:"katex-mathml"},(0,t.yg)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,t.yg)("semantics",{parentName:"math"},(0,t.yg)("mrow",{parentName:"semantics"},(0,t.yg)("mi",{parentName:"mrow"},"i")),(0,t.yg)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"i")))),(0,t.yg)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,t.yg)("span",{parentName:"span",className:"base"},(0,t.yg)("span",{parentName:"span",className:"strut",style:{height:"0.6595em"}}),(0,t.yg)("span",{parentName:"span",className:"mord mathnormal"},"i")))))," at time ",(0,t.yg)("span",{parentName:"p",className:"math math-inline"},(0,t.yg)("span",{parentName:"span",className:"katex"},(0,t.yg)("span",{parentName:"span",className:"katex-mathml"},(0,t.yg)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,t.yg)("semantics",{parentName:"math"},(0,t.yg)("mrow",{parentName:"semantics"},(0,t.yg)("mi",{parentName:"mrow"},"t")),(0,t.yg)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"t")))),(0,t.yg)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,t.yg)("span",{parentName:"span",className:"base"},(0,t.yg)("span",{parentName:"span",className:"strut",style:{height:"0.6151em"}}),(0,t.yg)("span",{parentName:"span",className:"mord mathnormal"},"t")))))," plus a sum term. The sum term just adds all the velocities of all the particles (which are not ",(0,t.yg)("span",{parentName:"p",className:"math math-inline"},(0,t.yg)("span",{parentName:"span",className:"katex"},(0,t.yg)("span",{parentName:"span",className:"katex-mathml"},(0,t.yg)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,t.yg)("semantics",{parentName:"math"},(0,t.yg)("mrow",{parentName:"semantics"},(0,t.yg)("mi",{parentName:"mrow"},"i")),(0,t.yg)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"i")))),(0,t.yg)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,t.yg)("span",{parentName:"span",className:"base"},(0,t.yg)("span",{parentName:"span",className:"strut",style:{height:"0.6595em"}}),(0,t.yg)("span",{parentName:"span",className:"mord mathnormal"},"i"))))),") that are inside the ",(0,t.yg)("strong",{parentName:"p"},"sphere of influence")," of ",(0,t.yg)("span",{parentName:"p",className:"math math-inline"},(0,t.yg)("span",{parentName:"span",className:"katex"},(0,t.yg)("span",{parentName:"span",className:"katex-mathml"},(0,t.yg)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,t.yg)("semantics",{parentName:"math"},(0,t.yg)("mrow",{parentName:"semantics"},(0,t.yg)("mi",{parentName:"mrow"},"i")),(0,t.yg)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"i")))),(0,t.yg)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,t.yg)("span",{parentName:"span",className:"base"},(0,t.yg)("span",{parentName:"span",className:"strut",style:{height:"0.6595em"}}),(0,t.yg)("span",{parentName:"span",className:"mord mathnormal"},"i"))))),". How? Well, the sum of all ",(0,t.yg)("span",{parentName:"p",className:"math math-inline"},(0,t.yg)("span",{parentName:"span",className:"katex"},(0,t.yg)("span",{parentName:"span",className:"katex-mathml"},(0,t.yg)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,t.yg)("semantics",{parentName:"math"},(0,t.yg)("mrow",{parentName:"semantics"},(0,t.yg)("mover",{parentName:"mrow",accent:"true"},(0,t.yg)("msub",{parentName:"mover"},(0,t.yg)("mi",{parentName:"msub"},"v"),(0,t.yg)("mi",{parentName:"msub"},"j")),(0,t.yg)("mo",{parentName:"mover"},"\u20d7"))),(0,t.yg)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"\\vec{v_j}")))),(0,t.yg)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,t.yg)("span",{parentName:"span",className:"base"},(0,t.yg)("span",{parentName:"span",className:"strut",style:{height:"1.0001em",verticalAlign:"-0.2861em"}}),(0,t.yg)("span",{parentName:"span",className:"mord accent"},(0,t.yg)("span",{parentName:"span",className:"vlist-t vlist-t2"},(0,t.yg)("span",{parentName:"span",className:"vlist-r"},(0,t.yg)("span",{parentName:"span",className:"vlist",style:{height:"0.714em"}},(0,t.yg)("span",{parentName:"span",style:{top:"-3em"}},(0,t.yg)("span",{parentName:"span",className:"pstrut",style:{height:"3em"}}),(0,t.yg)("span",{parentName:"span",className:"mord"},(0,t.yg)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.03588em"}},"v"),(0,t.yg)("span",{parentName:"span",className:"msupsub"},(0,t.yg)("span",{parentName:"span",className:"vlist-t vlist-t2"},(0,t.yg)("span",{parentName:"span",className:"vlist-r"},(0,t.yg)("span",{parentName:"span",className:"vlist",style:{height:"0.3117em"}},(0,t.yg)("span",{parentName:"span",style:{top:"-2.55em",marginLeft:"-0.0359em",marginRight:"0.05em"}},(0,t.yg)("span",{parentName:"span",className:"pstrut",style:{height:"2.7em"}}),(0,t.yg)("span",{parentName:"span",className:"sizing reset-size6 size3 mtight"},(0,t.yg)("span",{parentName:"span",className:"mord mathnormal mtight",style:{marginRight:"0.05724em"}},"j")))),(0,t.yg)("span",{parentName:"span",className:"vlist-s"},"\u200b")),(0,t.yg)("span",{parentName:"span",className:"vlist-r"},(0,t.yg)("span",{parentName:"span",className:"vlist",style:{height:"0.2861em"}},(0,t.yg)("span",{parentName:"span"}))))))),(0,t.yg)("span",{parentName:"span",style:{top:"-3em"}},(0,t.yg)("span",{parentName:"span",className:"pstrut",style:{height:"3em"}}),(0,t.yg)("span",{parentName:"span",className:"accent-body",style:{left:"-0.2355em"}},(0,t.yg)("span",{parentName:"span",className:"overlay",style:{height:"0.714em",width:"0.471em"}},(0,t.yg)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"0.471em",height:"0.714em",style:{width:"0.471em"},viewBox:"0 0 471 714",preserveAspectRatio:"xMinYMin"},(0,t.yg)("path",{parentName:"svg",d:"M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5\n3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11\n10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63\n-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1\n-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59\nH213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359\nc-16-25.333-24-45-24-59z"})))))),(0,t.yg)("span",{parentName:"span",className:"vlist-s"},"\u200b")),(0,t.yg)("span",{parentName:"span",className:"vlist-r"},(0,t.yg)("span",{parentName:"span",className:"vlist",style:{height:"0.2861em"}},(0,t.yg)("span",{parentName:"span"})))))))))," would add all the velocities of all remaining particles. But the term ",(0,t.yg)("span",{parentName:"p",className:"math math-inline"},(0,t.yg)("span",{parentName:"span",className:"katex"},(0,t.yg)("span",{parentName:"span",className:"katex-mathml"},(0,t.yg)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,t.yg)("semantics",{parentName:"math"},(0,t.yg)("mrow",{parentName:"semantics"},(0,t.yg)("msub",{parentName:"mrow"},(0,t.yg)("mi",{parentName:"msub"},"n"),(0,t.yg)("mrow",{parentName:"msub"},(0,t.yg)("mi",{parentName:"mrow"},"i"),(0,t.yg)("mi",{parentName:"mrow"},"j")))),(0,t.yg)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"n_{ij}")))),(0,t.yg)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,t.yg)("span",{parentName:"span",className:"base"},(0,t.yg)("span",{parentName:"span",className:"strut",style:{height:"0.7167em",verticalAlign:"-0.2861em"}}),(0,t.yg)("span",{parentName:"span",className:"mord"},(0,t.yg)("span",{parentName:"span",className:"mord mathnormal"},"n"),(0,t.yg)("span",{parentName:"span",className:"msupsub"},(0,t.yg)("span",{parentName:"span",className:"vlist-t vlist-t2"},(0,t.yg)("span",{parentName:"span",className:"vlist-r"},(0,t.yg)("span",{parentName:"span",className:"vlist",style:{height:"0.3117em"}},(0,t.yg)("span",{parentName:"span",style:{top:"-2.55em",marginLeft:"0em",marginRight:"0.05em"}},(0,t.yg)("span",{parentName:"span",className:"pstrut",style:{height:"2.7em"}}),(0,t.yg)("span",{parentName:"span",className:"sizing reset-size6 size3 mtight"},(0,t.yg)("span",{parentName:"span",className:"mord mtight"},(0,t.yg)("span",{parentName:"span",className:"mord mathnormal mtight",style:{marginRight:"0.05724em"}},"ij"))))),(0,t.yg)("span",{parentName:"span",className:"vlist-s"},"\u200b")),(0,t.yg)("span",{parentName:"span",className:"vlist-r"},(0,t.yg)("span",{parentName:"span",className:"vlist",style:{height:"0.2861em"}},(0,t.yg)("span",{parentName:"span"}))))))))))," is a matrix which works as a filter. It takes a value of ",(0,t.yg)("span",{parentName:"p",className:"math math-inline"},(0,t.yg)("span",{parentName:"span",className:"katex"},(0,t.yg)("span",{parentName:"span",className:"katex-mathml"},(0,t.yg)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,t.yg)("semantics",{parentName:"math"},(0,t.yg)("mrow",{parentName:"semantics"},(0,t.yg)("msub",{parentName:"mrow"},(0,t.yg)("mi",{parentName:"msub"},"n"),(0,t.yg)("mrow",{parentName:"msub"},(0,t.yg)("mi",{parentName:"mrow"},"i"),(0,t.yg)("mi",{parentName:"mrow"},"j"))),(0,t.yg)("mo",{parentName:"mrow"},"="),(0,t.yg)("mn",{parentName:"mrow"},"1")),(0,t.yg)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"n_{ij}=1")))),(0,t.yg)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,t.yg)("span",{parentName:"span",className:"base"},(0,t.yg)("span",{parentName:"span",className:"strut",style:{height:"0.7167em",verticalAlign:"-0.2861em"}}),(0,t.yg)("span",{parentName:"span",className:"mord"},(0,t.yg)("span",{parentName:"span",className:"mord mathnormal"},"n"),(0,t.yg)("span",{parentName:"span",className:"msupsub"},(0,t.yg)("span",{parentName:"span",className:"vlist-t vlist-t2"},(0,t.yg)("span",{parentName:"span",className:"vlist-r"},(0,t.yg)("span",{parentName:"span",className:"vlist",style:{height:"0.3117em"}},(0,t.yg)("span",{parentName:"span",style:{top:"-2.55em",marginLeft:"0em",marginRight:"0.05em"}},(0,t.yg)("span",{parentName:"span",className:"pstrut",style:{height:"2.7em"}}),(0,t.yg)("span",{parentName:"span",className:"sizing reset-size6 size3 mtight"},(0,t.yg)("span",{parentName:"span",className:"mord mtight"},(0,t.yg)("span",{parentName:"span",className:"mord mathnormal mtight",style:{marginRight:"0.05724em"}},"ij"))))),(0,t.yg)("span",{parentName:"span",className:"vlist-s"},"\u200b")),(0,t.yg)("span",{parentName:"span",className:"vlist-r"},(0,t.yg)("span",{parentName:"span",className:"vlist",style:{height:"0.2861em"}},(0,t.yg)("span",{parentName:"span"})))))),(0,t.yg)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2778em"}}),(0,t.yg)("span",{parentName:"span",className:"mrel"},"="),(0,t.yg)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2778em"}})),(0,t.yg)("span",{parentName:"span",className:"base"},(0,t.yg)("span",{parentName:"span",className:"strut",style:{height:"0.6444em"}}),(0,t.yg)("span",{parentName:"span",className:"mord"},"1")))))," if the the distance between ",(0,t.yg)("span",{parentName:"p",className:"math math-inline"},(0,t.yg)("span",{parentName:"span",className:"katex"},(0,t.yg)("span",{parentName:"span",className:"katex-mathml"},(0,t.yg)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,t.yg)("semantics",{parentName:"math"},(0,t.yg)("mrow",{parentName:"semantics"},(0,t.yg)("mi",{parentName:"mrow"},"i")),(0,t.yg)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"i")))),(0,t.yg)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,t.yg)("span",{parentName:"span",className:"base"},(0,t.yg)("span",{parentName:"span",className:"strut",style:{height:"0.6595em"}}),(0,t.yg)("span",{parentName:"span",className:"mord mathnormal"},"i")))))," and ",(0,t.yg)("span",{parentName:"p",className:"math math-inline"},(0,t.yg)("span",{parentName:"span",className:"katex"},(0,t.yg)("span",{parentName:"span",className:"katex-mathml"},(0,t.yg)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,t.yg)("semantics",{parentName:"math"},(0,t.yg)("mrow",{parentName:"semantics"},(0,t.yg)("mi",{parentName:"mrow"},"j")),(0,t.yg)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"j")))),(0,t.yg)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,t.yg)("span",{parentName:"span",className:"base"},(0,t.yg)("span",{parentName:"span",className:"strut",style:{height:"0.854em",verticalAlign:"-0.1944em"}}),(0,t.yg)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.05724em"}},"j")))))," is less than the radius of influence of the particles, and ",(0,t.yg)("span",{parentName:"p",className:"math math-inline"},(0,t.yg)("span",{parentName:"span",className:"katex"},(0,t.yg)("span",{parentName:"span",className:"katex-mathml"},(0,t.yg)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,t.yg)("semantics",{parentName:"math"},(0,t.yg)("mrow",{parentName:"semantics"},(0,t.yg)("mn",{parentName:"mrow"},"0")),(0,t.yg)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"0")))),(0,t.yg)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,t.yg)("span",{parentName:"span",className:"base"},(0,t.yg)("span",{parentName:"span",className:"strut",style:{height:"0.6444em"}}),(0,t.yg)("span",{parentName:"span",className:"mord"},"0")))))," otherwise. This means that any particle which is too far away to influence the trajectory of ",(0,t.yg)("span",{parentName:"p",className:"math math-inline"},(0,t.yg)("span",{parentName:"span",className:"katex"},(0,t.yg)("span",{parentName:"span",className:"katex-mathml"},(0,t.yg)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,t.yg)("semantics",{parentName:"math"},(0,t.yg)("mrow",{parentName:"semantics"},(0,t.yg)("mi",{parentName:"mrow"},"i")),(0,t.yg)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"i")))),(0,t.yg)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,t.yg)("span",{parentName:"span",className:"base"},(0,t.yg)("span",{parentName:"span",className:"strut",style:{height:"0.6595em"}}),(0,t.yg)("span",{parentName:"span",className:"mord mathnormal"},"i")))))," would contribute nothing to the summation term."),(0,t.yg)("p",null,"Now for the terms outside the brackets. First off, let's tackle ",(0,t.yg)("span",{parentName:"p",className:"math math-inline"},(0,t.yg)("span",{parentName:"span",className:"katex"},(0,t.yg)("span",{parentName:"span",className:"katex-mathml"},(0,t.yg)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,t.yg)("semantics",{parentName:"math"},(0,t.yg)("mrow",{parentName:"semantics"},(0,t.yg)("mi",{parentName:"mrow",mathvariant:"normal"},"\u0398")),(0,t.yg)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"\\Theta")))),(0,t.yg)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,t.yg)("span",{parentName:"span",className:"base"},(0,t.yg)("span",{parentName:"span",className:"strut",style:{height:"0.6833em"}}),(0,t.yg)("span",{parentName:"span",className:"mord"},"\u0398"))))),". One characteristic of the Vicsek model, is that it keeps the magnitudes of the velocities of particles constant. That means, that the speed at which a particle moves doesn't change. If Alice flies with 100km/h, she will keep doing that forever. To achieve this, after finding the average direction of all the neighbours (which is done by the term in the brackets), we need to normalise  that vector. This simply means, that this vector will always be of magnitude (length) ",(0,t.yg)("span",{parentName:"p",className:"math math-inline"},(0,t.yg)("span",{parentName:"span",className:"katex"},(0,t.yg)("span",{parentName:"span",className:"katex-mathml"},(0,t.yg)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,t.yg)("semantics",{parentName:"math"},(0,t.yg)("mrow",{parentName:"semantics"},(0,t.yg)("mn",{parentName:"mrow"},"1")),(0,t.yg)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"1")))),(0,t.yg)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,t.yg)("span",{parentName:"span",className:"base"},(0,t.yg)("span",{parentName:"span",className:"strut",style:{height:"0.6444em"}}),(0,t.yg)("span",{parentName:"span",className:"mord"},"1"))))),". But we said that Alice moves with 100km/h, right? That's the job of ",(0,t.yg)("span",{parentName:"p",className:"math math-inline"},(0,t.yg)("span",{parentName:"span",className:"katex"},(0,t.yg)("span",{parentName:"span",className:"katex-mathml"},(0,t.yg)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,t.yg)("semantics",{parentName:"math"},(0,t.yg)("mrow",{parentName:"semantics"},(0,t.yg)("msub",{parentName:"mrow"},(0,t.yg)("mi",{parentName:"msub"},"v"),(0,t.yg)("mn",{parentName:"msub"},"0"))),(0,t.yg)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"v_0")))),(0,t.yg)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,t.yg)("span",{parentName:"span",className:"base"},(0,t.yg)("span",{parentName:"span",className:"strut",style:{height:"0.5806em",verticalAlign:"-0.15em"}}),(0,t.yg)("span",{parentName:"span",className:"mord"},(0,t.yg)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.03588em"}},"v"),(0,t.yg)("span",{parentName:"span",className:"msupsub"},(0,t.yg)("span",{parentName:"span",className:"vlist-t vlist-t2"},(0,t.yg)("span",{parentName:"span",className:"vlist-r"},(0,t.yg)("span",{parentName:"span",className:"vlist",style:{height:"0.3011em"}},(0,t.yg)("span",{parentName:"span",style:{top:"-2.55em",marginLeft:"-0.0359em",marginRight:"0.05em"}},(0,t.yg)("span",{parentName:"span",className:"pstrut",style:{height:"2.7em"}}),(0,t.yg)("span",{parentName:"span",className:"sizing reset-size6 size3 mtight"},(0,t.yg)("span",{parentName:"span",className:"mord mtight"},"0")))),(0,t.yg)("span",{parentName:"span",className:"vlist-s"},"\u200b")),(0,t.yg)("span",{parentName:"span",className:"vlist-r"},(0,t.yg)("span",{parentName:"span",className:"vlist",style:{height:"0.15em"}},(0,t.yg)("span",{parentName:"span"})))))))))),". This is simply a scalar value (i.e. a number), which has the value of Alice's speed (100km/h). This way our velocity vector has been normalised by ",(0,t.yg)("span",{parentName:"p",className:"math math-inline"},(0,t.yg)("span",{parentName:"span",className:"katex"},(0,t.yg)("span",{parentName:"span",className:"katex-mathml"},(0,t.yg)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,t.yg)("semantics",{parentName:"math"},(0,t.yg)("mrow",{parentName:"semantics"},(0,t.yg)("mi",{parentName:"mrow",mathvariant:"normal"},"\u0398")),(0,t.yg)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"\\Theta")))),(0,t.yg)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,t.yg)("span",{parentName:"span",className:"base"},(0,t.yg)("span",{parentName:"span",className:"strut",style:{height:"0.6833em"}}),(0,t.yg)("span",{parentName:"span",className:"mord"},"\u0398"))))),", and after being multiplied by ",(0,t.yg)("span",{parentName:"p",className:"math math-inline"},(0,t.yg)("span",{parentName:"span",className:"katex"},(0,t.yg)("span",{parentName:"span",className:"katex-mathml"},(0,t.yg)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,t.yg)("semantics",{parentName:"math"},(0,t.yg)("mrow",{parentName:"semantics"},(0,t.yg)("msub",{parentName:"mrow"},(0,t.yg)("mi",{parentName:"msub"},"v"),(0,t.yg)("mn",{parentName:"msub"},"0"))),(0,t.yg)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"v_0")))),(0,t.yg)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,t.yg)("span",{parentName:"span",className:"base"},(0,t.yg)("span",{parentName:"span",className:"strut",style:{height:"0.5806em",verticalAlign:"-0.15em"}}),(0,t.yg)("span",{parentName:"span",className:"mord"},(0,t.yg)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.03588em"}},"v"),(0,t.yg)("span",{parentName:"span",className:"msupsub"},(0,t.yg)("span",{parentName:"span",className:"vlist-t vlist-t2"},(0,t.yg)("span",{parentName:"span",className:"vlist-r"},(0,t.yg)("span",{parentName:"span",className:"vlist",style:{height:"0.3011em"}},(0,t.yg)("span",{parentName:"span",style:{top:"-2.55em",marginLeft:"-0.0359em",marginRight:"0.05em"}},(0,t.yg)("span",{parentName:"span",className:"pstrut",style:{height:"2.7em"}}),(0,t.yg)("span",{parentName:"span",className:"sizing reset-size6 size3 mtight"},(0,t.yg)("span",{parentName:"span",className:"mord mtight"},"0")))),(0,t.yg)("span",{parentName:"span",className:"vlist-s"},"\u200b")),(0,t.yg)("span",{parentName:"span",className:"vlist-r"},(0,t.yg)("span",{parentName:"span",className:"vlist",style:{height:"0.15em"}},(0,t.yg)("span",{parentName:"span"}))))))))))," will have the same length as in the previous time step, but with a different orientation."),(0,t.yg)("p",null,"Lastly, we have ",(0,t.yg)("span",{parentName:"p",className:"math math-inline"},(0,t.yg)("span",{parentName:"span",className:"katex"},(0,t.yg)("span",{parentName:"span",className:"katex-mathml"},(0,t.yg)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,t.yg)("semantics",{parentName:"math"},(0,t.yg)("mrow",{parentName:"semantics"},(0,t.yg)("msub",{parentName:"mrow"},(0,t.yg)("mi",{parentName:"msub",mathvariant:"script"},"R"),(0,t.yg)("mi",{parentName:"msub"},"\u03b7"))),(0,t.yg)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"\\mathscr{R}_{\\eta}")))),(0,t.yg)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,t.yg)("span",{parentName:"span",className:"base"},(0,t.yg)("span",{parentName:"span",className:"strut",style:{height:"0.9861em",verticalAlign:"-0.2861em"}}),(0,t.yg)("span",{parentName:"span",className:"mord"},(0,t.yg)("span",{parentName:"span",className:"mord mathscr",style:{marginRight:"0.06259em"}},"R"),(0,t.yg)("span",{parentName:"span",className:"msupsub"},(0,t.yg)("span",{parentName:"span",className:"vlist-t vlist-t2"},(0,t.yg)("span",{parentName:"span",className:"vlist-r"},(0,t.yg)("span",{parentName:"span",className:"vlist",style:{height:"0.1514em"}},(0,t.yg)("span",{parentName:"span",style:{top:"-2.55em",marginLeft:"-0.0626em",marginRight:"0.05em"}},(0,t.yg)("span",{parentName:"span",className:"pstrut",style:{height:"2.7em"}}),(0,t.yg)("span",{parentName:"span",className:"sizing reset-size6 size3 mtight"},(0,t.yg)("span",{parentName:"span",className:"mord mtight"},(0,t.yg)("span",{parentName:"span",className:"mord mathnormal mtight",style:{marginRight:"0.03588em"}},"\u03b7"))))),(0,t.yg)("span",{parentName:"span",className:"vlist-s"},"\u200b")),(0,t.yg)("span",{parentName:"span",className:"vlist-r"},(0,t.yg)("span",{parentName:"span",className:"vlist",style:{height:"0.2861em"}},(0,t.yg)("span",{parentName:"span"})))))))))),". This is where we enable the use of  statistics. In order to have any possibility (or use) for statistical analysis, we need randomness. And this is the term that deals with that. Every time that Alice calculates her next direction to be the average of the directions of her neighbours inside her sphere of influence, ",(0,t.yg)("span",{parentName:"p",className:"math math-inline"},(0,t.yg)("span",{parentName:"span",className:"katex"},(0,t.yg)("span",{parentName:"span",className:"katex-mathml"},(0,t.yg)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,t.yg)("semantics",{parentName:"math"},(0,t.yg)("mrow",{parentName:"semantics"},(0,t.yg)("msub",{parentName:"mrow"},(0,t.yg)("mi",{parentName:"msub",mathvariant:"script"},"R"),(0,t.yg)("mi",{parentName:"msub"},"\u03b7"))),(0,t.yg)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"\\mathscr{R}_{\\eta}")))),(0,t.yg)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,t.yg)("span",{parentName:"span",className:"base"},(0,t.yg)("span",{parentName:"span",className:"strut",style:{height:"0.9861em",verticalAlign:"-0.2861em"}}),(0,t.yg)("span",{parentName:"span",className:"mord"},(0,t.yg)("span",{parentName:"span",className:"mord mathscr",style:{marginRight:"0.06259em"}},"R"),(0,t.yg)("span",{parentName:"span",className:"msupsub"},(0,t.yg)("span",{parentName:"span",className:"vlist-t vlist-t2"},(0,t.yg)("span",{parentName:"span",className:"vlist-r"},(0,t.yg)("span",{parentName:"span",className:"vlist",style:{height:"0.1514em"}},(0,t.yg)("span",{parentName:"span",style:{top:"-2.55em",marginLeft:"-0.0626em",marginRight:"0.05em"}},(0,t.yg)("span",{parentName:"span",className:"pstrut",style:{height:"2.7em"}}),(0,t.yg)("span",{parentName:"span",className:"sizing reset-size6 size3 mtight"},(0,t.yg)("span",{parentName:"span",className:"mord mtight"},(0,t.yg)("span",{parentName:"span",className:"mord mathnormal mtight",style:{marginRight:"0.03588em"}},"\u03b7"))))),(0,t.yg)("span",{parentName:"span",className:"vlist-s"},"\u200b")),(0,t.yg)("span",{parentName:"span",className:"vlist-r"},(0,t.yg)("span",{parentName:"span",className:"vlist",style:{height:"0.2861em"}},(0,t.yg)("span",{parentName:"span"}))))))))))," nudges that trajectory slightly in a random direction. For the purposes of these simulations, we will nudge Alice randomly by a uniformly distributed rotation inside a solid angle ",(0,t.yg)("span",{parentName:"p",className:"math math-inline"},(0,t.yg)("span",{parentName:"span",className:"katex"},(0,t.yg)("span",{parentName:"span",className:"katex-mathml"},(0,t.yg)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,t.yg)("semantics",{parentName:"math"},(0,t.yg)("mrow",{parentName:"semantics"},(0,t.yg)("mn",{parentName:"mrow"},"4"),(0,t.yg)("mi",{parentName:"mrow"},"\u03c0"),(0,t.yg)("mi",{parentName:"mrow"},"\u03b7")),(0,t.yg)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"4\\pi\\eta")))),(0,t.yg)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,t.yg)("span",{parentName:"span",className:"base"},(0,t.yg)("span",{parentName:"span",className:"strut",style:{height:"0.8389em",verticalAlign:"-0.1944em"}}),(0,t.yg)("span",{parentName:"span",className:"mord"},"4"),(0,t.yg)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.03588em"}},"\u03c0"),(0,t.yg)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.03588em"}},"\u03b7"))))),". Uniform distribution simply means that any random rotation is as equally likely as any other. A solid angle on the other hand just defines a slice of a sphere around her new direction that she can be nudged in. The size of the slice is defined by ",(0,t.yg)("span",{parentName:"p",className:"math math-inline"},(0,t.yg)("span",{parentName:"span",className:"katex"},(0,t.yg)("span",{parentName:"span",className:"katex-mathml"},(0,t.yg)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,t.yg)("semantics",{parentName:"math"},(0,t.yg)("mrow",{parentName:"semantics"},(0,t.yg)("mi",{parentName:"mrow"},"\u03b7")),(0,t.yg)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"\\eta")))),(0,t.yg)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,t.yg)("span",{parentName:"span",className:"base"},(0,t.yg)("span",{parentName:"span",className:"strut",style:{height:"0.625em",verticalAlign:"-0.1944em"}}),(0,t.yg)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.03588em"}},"\u03b7"))))),". For example ",(0,t.yg)("span",{parentName:"p",className:"math math-inline"},(0,t.yg)("span",{parentName:"span",className:"katex"},(0,t.yg)("span",{parentName:"span",className:"katex-mathml"},(0,t.yg)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,t.yg)("semantics",{parentName:"math"},(0,t.yg)("mrow",{parentName:"semantics"},(0,t.yg)("mi",{parentName:"mrow"},"\u03b7"),(0,t.yg)("mo",{parentName:"mrow"},"="),(0,t.yg)("mn",{parentName:"mrow"},"0.5")),(0,t.yg)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"\\eta=0.5")))),(0,t.yg)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,t.yg)("span",{parentName:"span",className:"base"},(0,t.yg)("span",{parentName:"span",className:"strut",style:{height:"0.625em",verticalAlign:"-0.1944em"}}),(0,t.yg)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.03588em"}},"\u03b7"),(0,t.yg)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2778em"}}),(0,t.yg)("span",{parentName:"span",className:"mrel"},"="),(0,t.yg)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2778em"}})),(0,t.yg)("span",{parentName:"span",className:"base"},(0,t.yg)("span",{parentName:"span",className:"strut",style:{height:"0.6444em"}}),(0,t.yg)("span",{parentName:"span",className:"mord"},"0.5")))))," defines half a sphere. Below you can see what a solid angle of ",(0,t.yg)("span",{parentName:"p",className:"math math-inline"},(0,t.yg)("span",{parentName:"span",className:"katex"},(0,t.yg)("span",{parentName:"span",className:"katex-mathml"},(0,t.yg)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,t.yg)("semantics",{parentName:"math"},(0,t.yg)("mrow",{parentName:"semantics"},(0,t.yg)("mn",{parentName:"mrow"},"4"),(0,t.yg)("mi",{parentName:"mrow"},"\u03c0"),(0,t.yg)("mi",{parentName:"mrow"},"\u03b7")),(0,t.yg)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"4\\pi\\eta")))),(0,t.yg)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,t.yg)("span",{parentName:"span",className:"base"},(0,t.yg)("span",{parentName:"span",className:"strut",style:{height:"0.8389em",verticalAlign:"-0.1944em"}}),(0,t.yg)("span",{parentName:"span",className:"mord"},"4"),(0,t.yg)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.03588em"}},"\u03c0"),(0,t.yg)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.03588em"}},"\u03b7")))))," with ",(0,t.yg)("span",{parentName:"p",className:"math math-inline"},(0,t.yg)("span",{parentName:"span",className:"katex"},(0,t.yg)("span",{parentName:"span",className:"katex-mathml"},(0,t.yg)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,t.yg)("semantics",{parentName:"math"},(0,t.yg)("mrow",{parentName:"semantics"},(0,t.yg)("mi",{parentName:"mrow"},"\u03b7"),(0,t.yg)("mo",{parentName:"mrow"},"="),(0,t.yg)("mn",{parentName:"mrow"},"0.45")),(0,t.yg)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"\\eta=0.45")))),(0,t.yg)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,t.yg)("span",{parentName:"span",className:"base"},(0,t.yg)("span",{parentName:"span",className:"strut",style:{height:"0.625em",verticalAlign:"-0.1944em"}}),(0,t.yg)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.03588em"}},"\u03b7"),(0,t.yg)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2778em"}}),(0,t.yg)("span",{parentName:"span",className:"mrel"},"="),(0,t.yg)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2778em"}})),(0,t.yg)("span",{parentName:"span",className:"base"},(0,t.yg)("span",{parentName:"span",className:"strut",style:{height:"0.6444em"}}),(0,t.yg)("span",{parentName:"span",className:"mord"},"0.45")))))," looks like, centred around the north pole (so as if Alice was moving straight up)."),(0,t.yg)("figure",{class:"kg-card kg-image-card kg-card-hascaption"},(0,t.yg)("img",{src:"/content/images/2020/01/solid-angle.png",class:"kg-image",alt:!0,loading:"lazy"}),(0,t.yg)("figcaption",null,"This is what a solid angle of $4\\pi\\eta$ with $\\eta=0.45$ centred around the north pole looks like")),(0,t.yg)("p",null,"Well, that's it, right? We've figured out how the equations work, and what they do. What's next? Well, if you remember, what we're trying to achieve here is to add one more thing to the model, to modify it. We need a time delay. We will achieve this very easily. What we can say, is that when Alice is calculating her new trajectory by averaging those of her neighbours, she doesn't take the most current ones, but instead ones from some previous time step. So we simply modify the first equation in the Vicsek model such that"),(0,t.yg)("div",{className:"math math-display"},(0,t.yg)("span",{parentName:"div",className:"katex-display"},(0,t.yg)("span",{parentName:"span",className:"katex"},(0,t.yg)("span",{parentName:"span",className:"katex-mathml"},(0,t.yg)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},(0,t.yg)("semantics",{parentName:"math"},(0,t.yg)("mrow",{parentName:"semantics"},(0,t.yg)("mover",{parentName:"mrow",accent:"true"},(0,t.yg)("msub",{parentName:"mover"},(0,t.yg)("mi",{parentName:"msub"},"v"),(0,t.yg)("mi",{parentName:"msub"},"i")),(0,t.yg)("mo",{parentName:"mover"},"\u20d7")),(0,t.yg)("mo",{parentName:"mrow",stretchy:"false"},"("),(0,t.yg)("mi",{parentName:"mrow"},"t"),(0,t.yg)("mo",{parentName:"mrow"},"+"),(0,t.yg)("mn",{parentName:"mrow"},"1"),(0,t.yg)("mo",{parentName:"mrow",stretchy:"false"},")"),(0,t.yg)("mo",{parentName:"mrow"},"="),(0,t.yg)("msub",{parentName:"mrow"},(0,t.yg)("mi",{parentName:"msub"},"v"),(0,t.yg)("mn",{parentName:"msub"},"0")),(0,t.yg)("msub",{parentName:"mrow"},(0,t.yg)("mi",{parentName:"msub",mathvariant:"script"},"R"),(0,t.yg)("mi",{parentName:"msub"},"\u03b7")),(0,t.yg)("mi",{parentName:"mrow",mathvariant:"normal"},"\u0398"),(0,t.yg)("mrow",{parentName:"mrow"},(0,t.yg)("mo",{parentName:"mrow",fence:"true"},"["),(0,t.yg)("mover",{parentName:"mrow",accent:"true"},(0,t.yg)("msub",{parentName:"mover"},(0,t.yg)("mi",{parentName:"msub"},"v"),(0,t.yg)("mi",{parentName:"msub"},"i")),(0,t.yg)("mo",{parentName:"mover"},"\u20d7")),(0,t.yg)("mo",{parentName:"mrow",stretchy:"false"},"("),(0,t.yg)("mi",{parentName:"mrow"},"t"),(0,t.yg)("mo",{parentName:"mrow",stretchy:"false"},")"),(0,t.yg)("mo",{parentName:"mrow"},"+"),(0,t.yg)("munder",{parentName:"mrow"},(0,t.yg)("mo",{parentName:"munder"},"\u2211"),(0,t.yg)("mrow",{parentName:"munder"},(0,t.yg)("mi",{parentName:"mrow"},"j"),(0,t.yg)("mo",{parentName:"mrow",mathvariant:"normal"},"\u2260"),(0,t.yg)("mi",{parentName:"mrow"},"i"))),(0,t.yg)("mrow",{parentName:"mrow"},(0,t.yg)("msub",{parentName:"mrow"},(0,t.yg)("mi",{parentName:"msub"},"n"),(0,t.yg)("mrow",{parentName:"msub"},(0,t.yg)("mi",{parentName:"mrow"},"i"),(0,t.yg)("mi",{parentName:"mrow"},"j"))),(0,t.yg)("mover",{parentName:"mrow",accent:"true"},(0,t.yg)("msub",{parentName:"mover"},(0,t.yg)("mi",{parentName:"msub"},"v"),(0,t.yg)("mi",{parentName:"msub"},"j")),(0,t.yg)("mo",{parentName:"mover"},"\u20d7")),(0,t.yg)("mo",{parentName:"mrow",stretchy:"false"},"("),(0,t.yg)("mi",{parentName:"mrow"},"t"),(0,t.yg)("mo",{parentName:"mrow"},"\u2212"),(0,t.yg)("mi",{parentName:"mrow"},"\u03c4"),(0,t.yg)("mo",{parentName:"mrow",stretchy:"false"},")")),(0,t.yg)("mo",{parentName:"mrow",fence:"true"},"]")),(0,t.yg)("mo",{parentName:"mrow",separator:"true"},",")),(0,t.yg)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"\\vec{v_i}(t+1) = v_{0}\\mathscr{R}_{\\eta}\\Theta \\left[ \\vec{v_i}(t) + \\sum_{ j \\neq i }{ n_{ij} \\vec{v_j}(t-\\tau) } \\right] ,")))),(0,t.yg)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,t.yg)("span",{parentName:"span",className:"base"},(0,t.yg)("span",{parentName:"span",className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,t.yg)("span",{parentName:"span",className:"mord accent"},(0,t.yg)("span",{parentName:"span",className:"vlist-t vlist-t2"},(0,t.yg)("span",{parentName:"span",className:"vlist-r"},(0,t.yg)("span",{parentName:"span",className:"vlist",style:{height:"0.714em"}},(0,t.yg)("span",{parentName:"span",style:{top:"-3em"}},(0,t.yg)("span",{parentName:"span",className:"pstrut",style:{height:"3em"}}),(0,t.yg)("span",{parentName:"span",className:"mord"},(0,t.yg)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.03588em"}},"v"),(0,t.yg)("span",{parentName:"span",className:"msupsub"},(0,t.yg)("span",{parentName:"span",className:"vlist-t vlist-t2"},(0,t.yg)("span",{parentName:"span",className:"vlist-r"},(0,t.yg)("span",{parentName:"span",className:"vlist",style:{height:"0.3117em"}},(0,t.yg)("span",{parentName:"span",style:{top:"-2.55em",marginLeft:"-0.0359em",marginRight:"0.05em"}},(0,t.yg)("span",{parentName:"span",className:"pstrut",style:{height:"2.7em"}}),(0,t.yg)("span",{parentName:"span",className:"sizing reset-size6 size3 mtight"},(0,t.yg)("span",{parentName:"span",className:"mord mathnormal mtight"},"i")))),(0,t.yg)("span",{parentName:"span",className:"vlist-s"},"\u200b")),(0,t.yg)("span",{parentName:"span",className:"vlist-r"},(0,t.yg)("span",{parentName:"span",className:"vlist",style:{height:"0.15em"}},(0,t.yg)("span",{parentName:"span"}))))))),(0,t.yg)("span",{parentName:"span",style:{top:"-3em"}},(0,t.yg)("span",{parentName:"span",className:"pstrut",style:{height:"3em"}}),(0,t.yg)("span",{parentName:"span",className:"accent-body",style:{left:"-0.2355em"}},(0,t.yg)("span",{parentName:"span",className:"overlay",style:{height:"0.714em",width:"0.471em"}},(0,t.yg)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"0.471em",height:"0.714em",style:{width:"0.471em"},viewBox:"0 0 471 714",preserveAspectRatio:"xMinYMin"},(0,t.yg)("path",{parentName:"svg",d:"M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5\n3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11\n10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63\n-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1\n-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59\nH213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359\nc-16-25.333-24-45-24-59z"})))))),(0,t.yg)("span",{parentName:"span",className:"vlist-s"},"\u200b")),(0,t.yg)("span",{parentName:"span",className:"vlist-r"},(0,t.yg)("span",{parentName:"span",className:"vlist",style:{height:"0.15em"}},(0,t.yg)("span",{parentName:"span"}))))),(0,t.yg)("span",{parentName:"span",className:"mopen"},"("),(0,t.yg)("span",{parentName:"span",className:"mord mathnormal"},"t"),(0,t.yg)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2222em"}}),(0,t.yg)("span",{parentName:"span",className:"mbin"},"+"),(0,t.yg)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2222em"}})),(0,t.yg)("span",{parentName:"span",className:"base"},(0,t.yg)("span",{parentName:"span",className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,t.yg)("span",{parentName:"span",className:"mord"},"1"),(0,t.yg)("span",{parentName:"span",className:"mclose"},")"),(0,t.yg)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2778em"}}),(0,t.yg)("span",{parentName:"span",className:"mrel"},"="),(0,t.yg)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2778em"}})),(0,t.yg)("span",{parentName:"span",className:"base"},(0,t.yg)("span",{parentName:"span",className:"strut",style:{height:"3.6em",verticalAlign:"-1.55em"}}),(0,t.yg)("span",{parentName:"span",className:"mord"},(0,t.yg)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.03588em"}},"v"),(0,t.yg)("span",{parentName:"span",className:"msupsub"},(0,t.yg)("span",{parentName:"span",className:"vlist-t vlist-t2"},(0,t.yg)("span",{parentName:"span",className:"vlist-r"},(0,t.yg)("span",{parentName:"span",className:"vlist",style:{height:"0.3011em"}},(0,t.yg)("span",{parentName:"span",style:{top:"-2.55em",marginLeft:"-0.0359em",marginRight:"0.05em"}},(0,t.yg)("span",{parentName:"span",className:"pstrut",style:{height:"2.7em"}}),(0,t.yg)("span",{parentName:"span",className:"sizing reset-size6 size3 mtight"},(0,t.yg)("span",{parentName:"span",className:"mord mtight"},(0,t.yg)("span",{parentName:"span",className:"mord mtight"},"0"))))),(0,t.yg)("span",{parentName:"span",className:"vlist-s"},"\u200b")),(0,t.yg)("span",{parentName:"span",className:"vlist-r"},(0,t.yg)("span",{parentName:"span",className:"vlist",style:{height:"0.15em"}},(0,t.yg)("span",{parentName:"span"})))))),(0,t.yg)("span",{parentName:"span",className:"mord"},(0,t.yg)("span",{parentName:"span",className:"mord mathscr",style:{marginRight:"0.06259em"}},"R"),(0,t.yg)("span",{parentName:"span",className:"msupsub"},(0,t.yg)("span",{parentName:"span",className:"vlist-t vlist-t2"},(0,t.yg)("span",{parentName:"span",className:"vlist-r"},(0,t.yg)("span",{parentName:"span",className:"vlist",style:{height:"0.1514em"}},(0,t.yg)("span",{parentName:"span",style:{top:"-2.55em",marginLeft:"-0.0626em",marginRight:"0.05em"}},(0,t.yg)("span",{parentName:"span",className:"pstrut",style:{height:"2.7em"}}),(0,t.yg)("span",{parentName:"span",className:"sizing reset-size6 size3 mtight"},(0,t.yg)("span",{parentName:"span",className:"mord mtight"},(0,t.yg)("span",{parentName:"span",className:"mord mathnormal mtight",style:{marginRight:"0.03588em"}},"\u03b7"))))),(0,t.yg)("span",{parentName:"span",className:"vlist-s"},"\u200b")),(0,t.yg)("span",{parentName:"span",className:"vlist-r"},(0,t.yg)("span",{parentName:"span",className:"vlist",style:{height:"0.2861em"}},(0,t.yg)("span",{parentName:"span"})))))),(0,t.yg)("span",{parentName:"span",className:"mord"},"\u0398"),(0,t.yg)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.1667em"}}),(0,t.yg)("span",{parentName:"span",className:"minner"},(0,t.yg)("span",{parentName:"span",className:"mopen"},(0,t.yg)("span",{parentName:"span",className:"delimsizing mult"},(0,t.yg)("span",{parentName:"span",className:"vlist-t vlist-t2"},(0,t.yg)("span",{parentName:"span",className:"vlist-r"},(0,t.yg)("span",{parentName:"span",className:"vlist",style:{height:"2.05em"}},(0,t.yg)("span",{parentName:"span",style:{top:"-2.25em"}},(0,t.yg)("span",{parentName:"span",className:"pstrut",style:{height:"3.155em"}}),(0,t.yg)("span",{parentName:"span",className:"delimsizinginner delim-size4"},(0,t.yg)("span",{parentName:"span"},"\u23a3"))),(0,t.yg)("span",{parentName:"span",style:{top:"-3.397em"}},(0,t.yg)("span",{parentName:"span",className:"pstrut",style:{height:"3.155em"}}),(0,t.yg)("span",{parentName:"span",style:{height:"0.016em",width:"0.6667em"}},(0,t.yg)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"0.6667em",height:"0.016em",style:{width:"0.6667em"},viewBox:"0 0 666.67 16",preserveAspectRatio:"xMinYMin"},(0,t.yg)("path",{parentName:"svg",d:"M319 0 H403 V16 H319z M319 0 H403 V16 H319z"})))),(0,t.yg)("span",{parentName:"span",style:{top:"-4.05em"}},(0,t.yg)("span",{parentName:"span",className:"pstrut",style:{height:"3.155em"}}),(0,t.yg)("span",{parentName:"span",className:"delimsizinginner delim-size4"},(0,t.yg)("span",{parentName:"span"},"\u23a1")))),(0,t.yg)("span",{parentName:"span",className:"vlist-s"},"\u200b")),(0,t.yg)("span",{parentName:"span",className:"vlist-r"},(0,t.yg)("span",{parentName:"span",className:"vlist",style:{height:"1.55em"}},(0,t.yg)("span",{parentName:"span"})))))),(0,t.yg)("span",{parentName:"span",className:"mord accent"},(0,t.yg)("span",{parentName:"span",className:"vlist-t vlist-t2"},(0,t.yg)("span",{parentName:"span",className:"vlist-r"},(0,t.yg)("span",{parentName:"span",className:"vlist",style:{height:"0.714em"}},(0,t.yg)("span",{parentName:"span",style:{top:"-3em"}},(0,t.yg)("span",{parentName:"span",className:"pstrut",style:{height:"3em"}}),(0,t.yg)("span",{parentName:"span",className:"mord"},(0,t.yg)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.03588em"}},"v"),(0,t.yg)("span",{parentName:"span",className:"msupsub"},(0,t.yg)("span",{parentName:"span",className:"vlist-t vlist-t2"},(0,t.yg)("span",{parentName:"span",className:"vlist-r"},(0,t.yg)("span",{parentName:"span",className:"vlist",style:{height:"0.3117em"}},(0,t.yg)("span",{parentName:"span",style:{top:"-2.55em",marginLeft:"-0.0359em",marginRight:"0.05em"}},(0,t.yg)("span",{parentName:"span",className:"pstrut",style:{height:"2.7em"}}),(0,t.yg)("span",{parentName:"span",className:"sizing reset-size6 size3 mtight"},(0,t.yg)("span",{parentName:"span",className:"mord mathnormal mtight"},"i")))),(0,t.yg)("span",{parentName:"span",className:"vlist-s"},"\u200b")),(0,t.yg)("span",{parentName:"span",className:"vlist-r"},(0,t.yg)("span",{parentName:"span",className:"vlist",style:{height:"0.15em"}},(0,t.yg)("span",{parentName:"span"}))))))),(0,t.yg)("span",{parentName:"span",style:{top:"-3em"}},(0,t.yg)("span",{parentName:"span",className:"pstrut",style:{height:"3em"}}),(0,t.yg)("span",{parentName:"span",className:"accent-body",style:{left:"-0.2355em"}},(0,t.yg)("span",{parentName:"span",className:"overlay",style:{height:"0.714em",width:"0.471em"}},(0,t.yg)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"0.471em",height:"0.714em",style:{width:"0.471em"},viewBox:"0 0 471 714",preserveAspectRatio:"xMinYMin"},(0,t.yg)("path",{parentName:"svg",d:"M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5\n3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11\n10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63\n-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1\n-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59\nH213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359\nc-16-25.333-24-45-24-59z"})))))),(0,t.yg)("span",{parentName:"span",className:"vlist-s"},"\u200b")),(0,t.yg)("span",{parentName:"span",className:"vlist-r"},(0,t.yg)("span",{parentName:"span",className:"vlist",style:{height:"0.15em"}},(0,t.yg)("span",{parentName:"span"}))))),(0,t.yg)("span",{parentName:"span",className:"mopen"},"("),(0,t.yg)("span",{parentName:"span",className:"mord mathnormal"},"t"),(0,t.yg)("span",{parentName:"span",className:"mclose"},")"),(0,t.yg)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2222em"}}),(0,t.yg)("span",{parentName:"span",className:"mbin"},"+"),(0,t.yg)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2222em"}}),(0,t.yg)("span",{parentName:"span",className:"mop op-limits"},(0,t.yg)("span",{parentName:"span",className:"vlist-t vlist-t2"},(0,t.yg)("span",{parentName:"span",className:"vlist-r"},(0,t.yg)("span",{parentName:"span",className:"vlist",style:{height:"1.05em"}},(0,t.yg)("span",{parentName:"span",style:{top:"-1.8479em",marginLeft:"0em"}},(0,t.yg)("span",{parentName:"span",className:"pstrut",style:{height:"3.05em"}}),(0,t.yg)("span",{parentName:"span",className:"sizing reset-size6 size3 mtight"},(0,t.yg)("span",{parentName:"span",className:"mord mtight"},(0,t.yg)("span",{parentName:"span",className:"mord mathnormal mtight",style:{marginRight:"0.05724em"}},"j"),(0,t.yg)("span",{parentName:"span",className:"mrel mtight"},(0,t.yg)("span",{parentName:"span",className:"mrel mtight"},(0,t.yg)("span",{parentName:"span",className:"mord vbox mtight"},(0,t.yg)("span",{parentName:"span",className:"thinbox mtight"},(0,t.yg)("span",{parentName:"span",className:"rlap mtight"},(0,t.yg)("span",{parentName:"span",className:"strut",style:{height:"0.8889em",verticalAlign:"-0.1944em"}}),(0,t.yg)("span",{parentName:"span",className:"inner"},(0,t.yg)("span",{parentName:"span",className:"mord mtight"},(0,t.yg)("span",{parentName:"span",className:"mrel mtight"},"\ue020"))),(0,t.yg)("span",{parentName:"span",className:"fix"}))))),(0,t.yg)("span",{parentName:"span",className:"mrel mtight"},"=")),(0,t.yg)("span",{parentName:"span",className:"mord mathnormal mtight"},"i")))),(0,t.yg)("span",{parentName:"span",style:{top:"-3.05em"}},(0,t.yg)("span",{parentName:"span",className:"pstrut",style:{height:"3.05em"}}),(0,t.yg)("span",{parentName:"span"},(0,t.yg)("span",{parentName:"span",className:"mop op-symbol large-op"},"\u2211")))),(0,t.yg)("span",{parentName:"span",className:"vlist-s"},"\u200b")),(0,t.yg)("span",{parentName:"span",className:"vlist-r"},(0,t.yg)("span",{parentName:"span",className:"vlist",style:{height:"1.4382em"}},(0,t.yg)("span",{parentName:"span"}))))),(0,t.yg)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.1667em"}}),(0,t.yg)("span",{parentName:"span",className:"mord"},(0,t.yg)("span",{parentName:"span",className:"mord"},(0,t.yg)("span",{parentName:"span",className:"mord mathnormal"},"n"),(0,t.yg)("span",{parentName:"span",className:"msupsub"},(0,t.yg)("span",{parentName:"span",className:"vlist-t vlist-t2"},(0,t.yg)("span",{parentName:"span",className:"vlist-r"},(0,t.yg)("span",{parentName:"span",className:"vlist",style:{height:"0.3117em"}},(0,t.yg)("span",{parentName:"span",style:{top:"-2.55em",marginLeft:"0em",marginRight:"0.05em"}},(0,t.yg)("span",{parentName:"span",className:"pstrut",style:{height:"2.7em"}}),(0,t.yg)("span",{parentName:"span",className:"sizing reset-size6 size3 mtight"},(0,t.yg)("span",{parentName:"span",className:"mord mtight"},(0,t.yg)("span",{parentName:"span",className:"mord mathnormal mtight",style:{marginRight:"0.05724em"}},"ij"))))),(0,t.yg)("span",{parentName:"span",className:"vlist-s"},"\u200b")),(0,t.yg)("span",{parentName:"span",className:"vlist-r"},(0,t.yg)("span",{parentName:"span",className:"vlist",style:{height:"0.2861em"}},(0,t.yg)("span",{parentName:"span"})))))),(0,t.yg)("span",{parentName:"span",className:"mord accent"},(0,t.yg)("span",{parentName:"span",className:"vlist-t vlist-t2"},(0,t.yg)("span",{parentName:"span",className:"vlist-r"},(0,t.yg)("span",{parentName:"span",className:"vlist",style:{height:"0.714em"}},(0,t.yg)("span",{parentName:"span",style:{top:"-3em"}},(0,t.yg)("span",{parentName:"span",className:"pstrut",style:{height:"3em"}}),(0,t.yg)("span",{parentName:"span",className:"mord"},(0,t.yg)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.03588em"}},"v"),(0,t.yg)("span",{parentName:"span",className:"msupsub"},(0,t.yg)("span",{parentName:"span",className:"vlist-t vlist-t2"},(0,t.yg)("span",{parentName:"span",className:"vlist-r"},(0,t.yg)("span",{parentName:"span",className:"vlist",style:{height:"0.3117em"}},(0,t.yg)("span",{parentName:"span",style:{top:"-2.55em",marginLeft:"-0.0359em",marginRight:"0.05em"}},(0,t.yg)("span",{parentName:"span",className:"pstrut",style:{height:"2.7em"}}),(0,t.yg)("span",{parentName:"span",className:"sizing reset-size6 size3 mtight"},(0,t.yg)("span",{parentName:"span",className:"mord mathnormal mtight",style:{marginRight:"0.05724em"}},"j")))),(0,t.yg)("span",{parentName:"span",className:"vlist-s"},"\u200b")),(0,t.yg)("span",{parentName:"span",className:"vlist-r"},(0,t.yg)("span",{parentName:"span",className:"vlist",style:{height:"0.2861em"}},(0,t.yg)("span",{parentName:"span"}))))))),(0,t.yg)("span",{parentName:"span",style:{top:"-3em"}},(0,t.yg)("span",{parentName:"span",className:"pstrut",style:{height:"3em"}}),(0,t.yg)("span",{parentName:"span",className:"accent-body",style:{left:"-0.2355em"}},(0,t.yg)("span",{parentName:"span",className:"overlay",style:{height:"0.714em",width:"0.471em"}},(0,t.yg)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"0.471em",height:"0.714em",style:{width:"0.471em"},viewBox:"0 0 471 714",preserveAspectRatio:"xMinYMin"},(0,t.yg)("path",{parentName:"svg",d:"M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5\n3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11\n10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63\n-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1\n-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59\nH213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359\nc-16-25.333-24-45-24-59z"})))))),(0,t.yg)("span",{parentName:"span",className:"vlist-s"},"\u200b")),(0,t.yg)("span",{parentName:"span",className:"vlist-r"},(0,t.yg)("span",{parentName:"span",className:"vlist",style:{height:"0.2861em"}},(0,t.yg)("span",{parentName:"span"}))))),(0,t.yg)("span",{parentName:"span",className:"mopen"},"("),(0,t.yg)("span",{parentName:"span",className:"mord mathnormal"},"t"),(0,t.yg)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2222em"}}),(0,t.yg)("span",{parentName:"span",className:"mbin"},"\u2212"),(0,t.yg)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2222em"}}),(0,t.yg)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.1132em"}},"\u03c4"),(0,t.yg)("span",{parentName:"span",className:"mclose"},")")),(0,t.yg)("span",{parentName:"span",className:"mclose"},(0,t.yg)("span",{parentName:"span",className:"delimsizing mult"},(0,t.yg)("span",{parentName:"span",className:"vlist-t vlist-t2"},(0,t.yg)("span",{parentName:"span",className:"vlist-r"},(0,t.yg)("span",{parentName:"span",className:"vlist",style:{height:"2.05em"}},(0,t.yg)("span",{parentName:"span",style:{top:"-2.25em"}},(0,t.yg)("span",{parentName:"span",className:"pstrut",style:{height:"3.155em"}}),(0,t.yg)("span",{parentName:"span",className:"delimsizinginner delim-size4"},(0,t.yg)("span",{parentName:"span"},"\u23a6"))),(0,t.yg)("span",{parentName:"span",style:{top:"-3.397em"}},(0,t.yg)("span",{parentName:"span",className:"pstrut",style:{height:"3.155em"}}),(0,t.yg)("span",{parentName:"span",style:{height:"0.016em",width:"0.6667em"}},(0,t.yg)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"0.6667em",height:"0.016em",style:{width:"0.6667em"},viewBox:"0 0 666.67 16",preserveAspectRatio:"xMinYMin"},(0,t.yg)("path",{parentName:"svg",d:"M263 0 H347 V16 H263z M263 0 H347 V16 H263z"})))),(0,t.yg)("span",{parentName:"span",style:{top:"-4.05em"}},(0,t.yg)("span",{parentName:"span",className:"pstrut",style:{height:"3.155em"}}),(0,t.yg)("span",{parentName:"span",className:"delimsizinginner delim-size4"},(0,t.yg)("span",{parentName:"span"},"\u23a4")))),(0,t.yg)("span",{parentName:"span",className:"vlist-s"},"\u200b")),(0,t.yg)("span",{parentName:"span",className:"vlist-r"},(0,t.yg)("span",{parentName:"span",className:"vlist",style:{height:"1.55em"}},(0,t.yg)("span",{parentName:"span"}))))))),(0,t.yg)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.1667em"}}),(0,t.yg)("span",{parentName:"span",className:"mpunct"},",")))))),(0,t.yg)("p",null,"and we keep the second one intact"),(0,t.yg)("div",{className:"math math-display"},(0,t.yg)("span",{parentName:"div",className:"katex-display"},(0,t.yg)("span",{parentName:"span",className:"katex"},(0,t.yg)("span",{parentName:"span",className:"katex-mathml"},(0,t.yg)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},(0,t.yg)("semantics",{parentName:"math"},(0,t.yg)("mrow",{parentName:"semantics"},(0,t.yg)("mover",{parentName:"mrow",accent:"true"},(0,t.yg)("msub",{parentName:"mover"},(0,t.yg)("mi",{parentName:"msub"},"r"),(0,t.yg)("mi",{parentName:"msub"},"i")),(0,t.yg)("mo",{parentName:"mover"},"\u20d7")),(0,t.yg)("mo",{parentName:"mrow",stretchy:"false"},"("),(0,t.yg)("mi",{parentName:"mrow"},"t"),(0,t.yg)("mo",{parentName:"mrow"},"+"),(0,t.yg)("mn",{parentName:"mrow"},"1"),(0,t.yg)("mo",{parentName:"mrow",stretchy:"false"},")"),(0,t.yg)("mo",{parentName:"mrow"},"="),(0,t.yg)("mover",{parentName:"mrow",accent:"true"},(0,t.yg)("msub",{parentName:"mover"},(0,t.yg)("mi",{parentName:"msub"},"r"),(0,t.yg)("mi",{parentName:"msub"},"i")),(0,t.yg)("mo",{parentName:"mover"},"\u20d7")),(0,t.yg)("mo",{parentName:"mrow",stretchy:"false"},"("),(0,t.yg)("mi",{parentName:"mrow"},"t"),(0,t.yg)("mo",{parentName:"mrow",stretchy:"false"},")"),(0,t.yg)("mo",{parentName:"mrow"},"+"),(0,t.yg)("mover",{parentName:"mrow",accent:"true"},(0,t.yg)("msub",{parentName:"mover"},(0,t.yg)("mi",{parentName:"msub"},"v"),(0,t.yg)("mi",{parentName:"msub"},"i")),(0,t.yg)("mo",{parentName:"mover"},"\u20d7")),(0,t.yg)("mo",{parentName:"mrow",stretchy:"false"},"("),(0,t.yg)("mi",{parentName:"mrow"},"t"),(0,t.yg)("mo",{parentName:"mrow"},"+"),(0,t.yg)("mn",{parentName:"mrow"},"1"),(0,t.yg)("mo",{parentName:"mrow",stretchy:"false"},")"),(0,t.yg)("mi",{parentName:"mrow",mathvariant:"normal"},".")),(0,t.yg)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"\\vec{r_i}(t+1) = \\vec{r_i}(t) + \\vec{v_i}(t+1) .")))),(0,t.yg)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,t.yg)("span",{parentName:"span",className:"base"},(0,t.yg)("span",{parentName:"span",className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,t.yg)("span",{parentName:"span",className:"mord accent"},(0,t.yg)("span",{parentName:"span",className:"vlist-t vlist-t2"},(0,t.yg)("span",{parentName:"span",className:"vlist-r"},(0,t.yg)("span",{parentName:"span",className:"vlist",style:{height:"0.714em"}},(0,t.yg)("span",{parentName:"span",style:{top:"-3em"}},(0,t.yg)("span",{parentName:"span",className:"pstrut",style:{height:"3em"}}),(0,t.yg)("span",{parentName:"span",className:"mord"},(0,t.yg)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.02778em"}},"r"),(0,t.yg)("span",{parentName:"span",className:"msupsub"},(0,t.yg)("span",{parentName:"span",className:"vlist-t vlist-t2"},(0,t.yg)("span",{parentName:"span",className:"vlist-r"},(0,t.yg)("span",{parentName:"span",className:"vlist",style:{height:"0.3117em"}},(0,t.yg)("span",{parentName:"span",style:{top:"-2.55em",marginLeft:"-0.0278em",marginRight:"0.05em"}},(0,t.yg)("span",{parentName:"span",className:"pstrut",style:{height:"2.7em"}}),(0,t.yg)("span",{parentName:"span",className:"sizing reset-size6 size3 mtight"},(0,t.yg)("span",{parentName:"span",className:"mord mathnormal mtight"},"i")))),(0,t.yg)("span",{parentName:"span",className:"vlist-s"},"\u200b")),(0,t.yg)("span",{parentName:"span",className:"vlist-r"},(0,t.yg)("span",{parentName:"span",className:"vlist",style:{height:"0.15em"}},(0,t.yg)("span",{parentName:"span"}))))))),(0,t.yg)("span",{parentName:"span",style:{top:"-3em"}},(0,t.yg)("span",{parentName:"span",className:"pstrut",style:{height:"3em"}}),(0,t.yg)("span",{parentName:"span",className:"accent-body",style:{left:"-0.2355em"}},(0,t.yg)("span",{parentName:"span",className:"overlay",style:{height:"0.714em",width:"0.471em"}},(0,t.yg)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"0.471em",height:"0.714em",style:{width:"0.471em"},viewBox:"0 0 471 714",preserveAspectRatio:"xMinYMin"},(0,t.yg)("path",{parentName:"svg",d:"M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5\n3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11\n10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63\n-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1\n-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59\nH213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359\nc-16-25.333-24-45-24-59z"})))))),(0,t.yg)("span",{parentName:"span",className:"vlist-s"},"\u200b")),(0,t.yg)("span",{parentName:"span",className:"vlist-r"},(0,t.yg)("span",{parentName:"span",className:"vlist",style:{height:"0.15em"}},(0,t.yg)("span",{parentName:"span"}))))),(0,t.yg)("span",{parentName:"span",className:"mopen"},"("),(0,t.yg)("span",{parentName:"span",className:"mord mathnormal"},"t"),(0,t.yg)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2222em"}}),(0,t.yg)("span",{parentName:"span",className:"mbin"},"+"),(0,t.yg)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2222em"}})),(0,t.yg)("span",{parentName:"span",className:"base"},(0,t.yg)("span",{parentName:"span",className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,t.yg)("span",{parentName:"span",className:"mord"},"1"),(0,t.yg)("span",{parentName:"span",className:"mclose"},")"),(0,t.yg)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2778em"}}),(0,t.yg)("span",{parentName:"span",className:"mrel"},"="),(0,t.yg)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2778em"}})),(0,t.yg)("span",{parentName:"span",className:"base"},(0,t.yg)("span",{parentName:"span",className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,t.yg)("span",{parentName:"span",className:"mord accent"},(0,t.yg)("span",{parentName:"span",className:"vlist-t vlist-t2"},(0,t.yg)("span",{parentName:"span",className:"vlist-r"},(0,t.yg)("span",{parentName:"span",className:"vlist",style:{height:"0.714em"}},(0,t.yg)("span",{parentName:"span",style:{top:"-3em"}},(0,t.yg)("span",{parentName:"span",className:"pstrut",style:{height:"3em"}}),(0,t.yg)("span",{parentName:"span",className:"mord"},(0,t.yg)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.02778em"}},"r"),(0,t.yg)("span",{parentName:"span",className:"msupsub"},(0,t.yg)("span",{parentName:"span",className:"vlist-t vlist-t2"},(0,t.yg)("span",{parentName:"span",className:"vlist-r"},(0,t.yg)("span",{parentName:"span",className:"vlist",style:{height:"0.3117em"}},(0,t.yg)("span",{parentName:"span",style:{top:"-2.55em",marginLeft:"-0.0278em",marginRight:"0.05em"}},(0,t.yg)("span",{parentName:"span",className:"pstrut",style:{height:"2.7em"}}),(0,t.yg)("span",{parentName:"span",className:"sizing reset-size6 size3 mtight"},(0,t.yg)("span",{parentName:"span",className:"mord mathnormal mtight"},"i")))),(0,t.yg)("span",{parentName:"span",className:"vlist-s"},"\u200b")),(0,t.yg)("span",{parentName:"span",className:"vlist-r"},(0,t.yg)("span",{parentName:"span",className:"vlist",style:{height:"0.15em"}},(0,t.yg)("span",{parentName:"span"}))))))),(0,t.yg)("span",{parentName:"span",style:{top:"-3em"}},(0,t.yg)("span",{parentName:"span",className:"pstrut",style:{height:"3em"}}),(0,t.yg)("span",{parentName:"span",className:"accent-body",style:{left:"-0.2355em"}},(0,t.yg)("span",{parentName:"span",className:"overlay",style:{height:"0.714em",width:"0.471em"}},(0,t.yg)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"0.471em",height:"0.714em",style:{width:"0.471em"},viewBox:"0 0 471 714",preserveAspectRatio:"xMinYMin"},(0,t.yg)("path",{parentName:"svg",d:"M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5\n3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11\n10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63\n-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1\n-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59\nH213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359\nc-16-25.333-24-45-24-59z"})))))),(0,t.yg)("span",{parentName:"span",className:"vlist-s"},"\u200b")),(0,t.yg)("span",{parentName:"span",className:"vlist-r"},(0,t.yg)("span",{parentName:"span",className:"vlist",style:{height:"0.15em"}},(0,t.yg)("span",{parentName:"span"}))))),(0,t.yg)("span",{parentName:"span",className:"mopen"},"("),(0,t.yg)("span",{parentName:"span",className:"mord mathnormal"},"t"),(0,t.yg)("span",{parentName:"span",className:"mclose"},")"),(0,t.yg)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2222em"}}),(0,t.yg)("span",{parentName:"span",className:"mbin"},"+"),(0,t.yg)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2222em"}})),(0,t.yg)("span",{parentName:"span",className:"base"},(0,t.yg)("span",{parentName:"span",className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,t.yg)("span",{parentName:"span",className:"mord accent"},(0,t.yg)("span",{parentName:"span",className:"vlist-t vlist-t2"},(0,t.yg)("span",{parentName:"span",className:"vlist-r"},(0,t.yg)("span",{parentName:"span",className:"vlist",style:{height:"0.714em"}},(0,t.yg)("span",{parentName:"span",style:{top:"-3em"}},(0,t.yg)("span",{parentName:"span",className:"pstrut",style:{height:"3em"}}),(0,t.yg)("span",{parentName:"span",className:"mord"},(0,t.yg)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.03588em"}},"v"),(0,t.yg)("span",{parentName:"span",className:"msupsub"},(0,t.yg)("span",{parentName:"span",className:"vlist-t vlist-t2"},(0,t.yg)("span",{parentName:"span",className:"vlist-r"},(0,t.yg)("span",{parentName:"span",className:"vlist",style:{height:"0.3117em"}},(0,t.yg)("span",{parentName:"span",style:{top:"-2.55em",marginLeft:"-0.0359em",marginRight:"0.05em"}},(0,t.yg)("span",{parentName:"span",className:"pstrut",style:{height:"2.7em"}}),(0,t.yg)("span",{parentName:"span",className:"sizing reset-size6 size3 mtight"},(0,t.yg)("span",{parentName:"span",className:"mord mathnormal mtight"},"i")))),(0,t.yg)("span",{parentName:"span",className:"vlist-s"},"\u200b")),(0,t.yg)("span",{parentName:"span",className:"vlist-r"},(0,t.yg)("span",{parentName:"span",className:"vlist",style:{height:"0.15em"}},(0,t.yg)("span",{parentName:"span"}))))))),(0,t.yg)("span",{parentName:"span",style:{top:"-3em"}},(0,t.yg)("span",{parentName:"span",className:"pstrut",style:{height:"3em"}}),(0,t.yg)("span",{parentName:"span",className:"accent-body",style:{left:"-0.2355em"}},(0,t.yg)("span",{parentName:"span",className:"overlay",style:{height:"0.714em",width:"0.471em"}},(0,t.yg)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"0.471em",height:"0.714em",style:{width:"0.471em"},viewBox:"0 0 471 714",preserveAspectRatio:"xMinYMin"},(0,t.yg)("path",{parentName:"svg",d:"M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5\n3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11\n10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63\n-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1\n-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59\nH213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359\nc-16-25.333-24-45-24-59z"})))))),(0,t.yg)("span",{parentName:"span",className:"vlist-s"},"\u200b")),(0,t.yg)("span",{parentName:"span",className:"vlist-r"},(0,t.yg)("span",{parentName:"span",className:"vlist",style:{height:"0.15em"}},(0,t.yg)("span",{parentName:"span"}))))),(0,t.yg)("span",{parentName:"span",className:"mopen"},"("),(0,t.yg)("span",{parentName:"span",className:"mord mathnormal"},"t"),(0,t.yg)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2222em"}}),(0,t.yg)("span",{parentName:"span",className:"mbin"},"+"),(0,t.yg)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2222em"}})),(0,t.yg)("span",{parentName:"span",className:"base"},(0,t.yg)("span",{parentName:"span",className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,t.yg)("span",{parentName:"span",className:"mord"},"1"),(0,t.yg)("span",{parentName:"span",className:"mclose"},")"),(0,t.yg)("span",{parentName:"span",className:"mord"},".")))))),(0,t.yg)("p",null,"All we've done is add a tiny little ",(0,t.yg)("span",{parentName:"p",className:"math math-inline"},(0,t.yg)("span",{parentName:"span",className:"katex"},(0,t.yg)("span",{parentName:"span",className:"katex-mathml"},(0,t.yg)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,t.yg)("semantics",{parentName:"math"},(0,t.yg)("mrow",{parentName:"semantics"},(0,t.yg)("mi",{parentName:"mrow"},"\u03c4")),(0,t.yg)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"\\tau")))),(0,t.yg)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,t.yg)("span",{parentName:"span",className:"base"},(0,t.yg)("span",{parentName:"span",className:"strut",style:{height:"0.4306em"}}),(0,t.yg)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.1132em"}},"\u03c4")))))," in the brackets there. This simply states that the velocity vectors of the neighbours will be taken from some previous step ",(0,t.yg)("span",{parentName:"p",className:"math math-inline"},(0,t.yg)("span",{parentName:"span",className:"katex"},(0,t.yg)("span",{parentName:"span",className:"katex-mathml"},(0,t.yg)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,t.yg)("semantics",{parentName:"math"},(0,t.yg)("mrow",{parentName:"semantics"},(0,t.yg)("mi",{parentName:"mrow"},"t"),(0,t.yg)("mo",{parentName:"mrow"},"\u2212"),(0,t.yg)("mi",{parentName:"mrow"},"\u03c4")),(0,t.yg)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"t-\\tau")))),(0,t.yg)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,t.yg)("span",{parentName:"span",className:"base"},(0,t.yg)("span",{parentName:"span",className:"strut",style:{height:"0.6984em",verticalAlign:"-0.0833em"}}),(0,t.yg)("span",{parentName:"span",className:"mord mathnormal"},"t"),(0,t.yg)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2222em"}}),(0,t.yg)("span",{parentName:"span",className:"mbin"},"\u2212"),(0,t.yg)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2222em"}})),(0,t.yg)("span",{parentName:"span",className:"base"},(0,t.yg)("span",{parentName:"span",className:"strut",style:{height:"0.4306em"}}),(0,t.yg)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.1132em"}},"\u03c4")))))," where ",(0,t.yg)("span",{parentName:"p",className:"math math-inline"},(0,t.yg)("span",{parentName:"span",className:"katex"},(0,t.yg)("span",{parentName:"span",className:"katex-mathml"},(0,t.yg)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,t.yg)("semantics",{parentName:"math"},(0,t.yg)("mrow",{parentName:"semantics"},(0,t.yg)("mi",{parentName:"mrow"},"\u03c4")),(0,t.yg)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"\\tau")))),(0,t.yg)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,t.yg)("span",{parentName:"span",className:"base"},(0,t.yg)("span",{parentName:"span",className:"strut",style:{height:"0.4306em"}}),(0,t.yg)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.1132em"}},"\u03c4")))))," can range from ",(0,t.yg)("span",{parentName:"p",className:"math math-inline"},(0,t.yg)("span",{parentName:"span",className:"katex"},(0,t.yg)("span",{parentName:"span",className:"katex-mathml"},(0,t.yg)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,t.yg)("semantics",{parentName:"math"},(0,t.yg)("mrow",{parentName:"semantics"},(0,t.yg)("mn",{parentName:"mrow"},"0")),(0,t.yg)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"0")))),(0,t.yg)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,t.yg)("span",{parentName:"span",className:"base"},(0,t.yg)("span",{parentName:"span",className:"strut",style:{height:"0.6444em"}}),(0,t.yg)("span",{parentName:"span",className:"mord"},"0")))))," (meaning no time delay), to any number we like. Since in our simulations time will progress in steps of ",(0,t.yg)("span",{parentName:"p",className:"math math-inline"},(0,t.yg)("span",{parentName:"span",className:"katex"},(0,t.yg)("span",{parentName:"span",className:"katex-mathml"},(0,t.yg)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,t.yg)("semantics",{parentName:"math"},(0,t.yg)("mrow",{parentName:"semantics"},(0,t.yg)("mn",{parentName:"mrow"},"1")),(0,t.yg)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"1")))),(0,t.yg)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,t.yg)("span",{parentName:"span",className:"base"},(0,t.yg)("span",{parentName:"span",className:"strut",style:{height:"0.6444em"}}),(0,t.yg)("span",{parentName:"span",className:"mord"},"1"))))),", ",(0,t.yg)("span",{parentName:"p",className:"math math-inline"},(0,t.yg)("span",{parentName:"span",className:"katex"},(0,t.yg)("span",{parentName:"span",className:"katex-mathml"},(0,t.yg)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,t.yg)("semantics",{parentName:"math"},(0,t.yg)("mrow",{parentName:"semantics"},(0,t.yg)("mi",{parentName:"mrow"},"\u03c4")),(0,t.yg)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"\\tau")))),(0,t.yg)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,t.yg)("span",{parentName:"span",className:"base"},(0,t.yg)("span",{parentName:"span",className:"strut",style:{height:"0.4306em"}}),(0,t.yg)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.1132em"}},"\u03c4")))))," can take values like ",(0,t.yg)("span",{parentName:"p",className:"math math-inline"},(0,t.yg)("span",{parentName:"span",className:"katex"},(0,t.yg)("span",{parentName:"span",className:"katex-mathml"},(0,t.yg)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,t.yg)("semantics",{parentName:"math"},(0,t.yg)("mrow",{parentName:"semantics"},(0,t.yg)("mn",{parentName:"mrow"},"0"),(0,t.yg)("mo",{parentName:"mrow",separator:"true"},","),(0,t.yg)("mn",{parentName:"mrow"},"1"),(0,t.yg)("mo",{parentName:"mrow",separator:"true"},","),(0,t.yg)("mn",{parentName:"mrow"},"2"),(0,t.yg)("mo",{parentName:"mrow",separator:"true"},","),(0,t.yg)("mn",{parentName:"mrow"},"3...")),(0,t.yg)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"0, 1, 2, 3...")))),(0,t.yg)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,t.yg)("span",{parentName:"span",className:"base"},(0,t.yg)("span",{parentName:"span",className:"strut",style:{height:"0.8389em",verticalAlign:"-0.1944em"}}),(0,t.yg)("span",{parentName:"span",className:"mord"},"0"),(0,t.yg)("span",{parentName:"span",className:"mpunct"},","),(0,t.yg)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.1667em"}}),(0,t.yg)("span",{parentName:"span",className:"mord"},"1"),(0,t.yg)("span",{parentName:"span",className:"mpunct"},","),(0,t.yg)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.1667em"}}),(0,t.yg)("span",{parentName:"span",className:"mord"},"2"),(0,t.yg)("span",{parentName:"span",className:"mpunct"},","),(0,t.yg)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.1667em"}}),(0,t.yg)("span",{parentName:"span",className:"mord"},"3..."))))),"."),(0,t.yg)("p",null,"Cool, now we can proceed to actually"),(0,t.yg)("h2",{id:"writing-a-simulator-for-the-time-delayed-vicsek-model-in-3d"},"Writing a simulator for the time-delayed Vicsek model in 3D"),(0,t.yg)("p",null,"Now that we've analysed the equations, this will be a very easy task to accomplish. I have two versions of this, one is the one I used for analysing the data written in Python with the help of ",(0,t.yg)("a",{parentName:"p",href:"https://numpy.org/"},"NumPy")," (super useful for vector and matrix operations), and the other one to just visualise the model in JavaScript. Let's use the Python code as a reference, since it's more accurate in a couple of aspects."),(0,t.yg)("p",null,"Another thing to mention, is that we need to set some sort of boundaries to our system, since we can't have them run around in an infinite space. So we will use  ",(0,t.yg)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/Periodic_boundary_conditions"},"periodic boundary conditions"),", which simply means that we will define a box of a certain size, and whenever a particle leaves that box, it will simply reappear on the other end of that box. So, as simple as"),(0,t.yg)("pre",null,(0,t.yg)("code",{parentName:"pre",className:"language-python"},"if (x < 0):\n    x = x + x_size\nif (x > x_size):\n    x = 0\n")),(0,t.yg)("p",null," We also have to be careful about how we ",(0,t.yg)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/Periodic_boundary_conditions#(A)_Restrict_particle_coordinates_to_the_simulation_box"},"calculate distances in periodic boundary conditions")," . Here's pseudo-code from Wikipedia:"),(0,t.yg)("pre",null,(0,t.yg)("code",{parentName:"pre"},"! For a box with the origin at the lower left vertex\n! Works for x's lying in any image.\ndx = x(j) - x(i)\ndx = dx - nint(dx / x_size) * x_size\n")),(0,t.yg)("p",null,"We also need a function to generate random vectors inside a sphere:"),(0,t.yg)("pre",null,(0,t.yg)("code",{parentName:"pre",className:"language-python"},"# generate random angle theta between -pi - pi\ndef rand_vector():\n    theta = np.random.uniform(0,2*pi)\n    z = np.random.uniform(-1,1)\n    x = cos(theta) * sqrt(1 - z**2)\n    y = sin(theta) * sqrt(1 - z**2)\n    return np.array([x,y,z])\n")),(0,t.yg)("p",null,"While we are at it, let's also find a way to implement the ",(0,t.yg)("span",{parentName:"p",className:"math math-inline"},(0,t.yg)("span",{parentName:"span",className:"katex"},(0,t.yg)("span",{parentName:"span",className:"katex-mathml"},(0,t.yg)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,t.yg)("semantics",{parentName:"math"},(0,t.yg)("mrow",{parentName:"semantics"},(0,t.yg)("msub",{parentName:"mrow"},(0,t.yg)("mi",{parentName:"msub",mathvariant:"script"},"R"),(0,t.yg)("mi",{parentName:"msub"},"\u03b7"))),(0,t.yg)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"\\mathscr{R}_{\\eta}")))),(0,t.yg)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,t.yg)("span",{parentName:"span",className:"base"},(0,t.yg)("span",{parentName:"span",className:"strut",style:{height:"0.9861em",verticalAlign:"-0.2861em"}}),(0,t.yg)("span",{parentName:"span",className:"mord"},(0,t.yg)("span",{parentName:"span",className:"mord mathscr",style:{marginRight:"0.06259em"}},"R"),(0,t.yg)("span",{parentName:"span",className:"msupsub"},(0,t.yg)("span",{parentName:"span",className:"vlist-t vlist-t2"},(0,t.yg)("span",{parentName:"span",className:"vlist-r"},(0,t.yg)("span",{parentName:"span",className:"vlist",style:{height:"0.1514em"}},(0,t.yg)("span",{parentName:"span",style:{top:"-2.55em",marginLeft:"-0.0626em",marginRight:"0.05em"}},(0,t.yg)("span",{parentName:"span",className:"pstrut",style:{height:"2.7em"}}),(0,t.yg)("span",{parentName:"span",className:"sizing reset-size6 size3 mtight"},(0,t.yg)("span",{parentName:"span",className:"mord mtight"},(0,t.yg)("span",{parentName:"span",className:"mord mathnormal mtight",style:{marginRight:"0.03588em"}},"\u03b7"))))),(0,t.yg)("span",{parentName:"span",className:"vlist-s"},"\u200b")),(0,t.yg)("span",{parentName:"span",className:"vlist-r"},(0,t.yg)("span",{parentName:"span",className:"vlist",style:{height:"0.2861em"}},(0,t.yg)("span",{parentName:"span"}))))))))))," operator. After doing a bit of testing, I found that the fastest way to do this is by using ",(0,t.yg)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/Quaternions_and_spatial_rotation"},"quaternions"),". These are a mathematical curiosity which allows for algebraic operations with numbers extending the complex numbers. But they have one quite popular use in 3D, and that is calculating rotations."),(0,t.yg)("p",null,"I've used a dedicated ",(0,t.yg)("a",{parentName:"p",href:"https://pypi.org/project/numpy-quaternion/"},"numpy-based library for quaternions"),", and I've documented my code as much as possible. So we can now put these functions together in one file, and call it ",(0,t.yg)("inlineCode",{parentName:"p"},"geometry3d.py"),"."),(0,t.yg)("pre",null,(0,t.yg)("code",{parentName:"pre",className:"language-python",metastring:'title="geometry3d.py"',title:'"geometry3d.py"'},"#!/usr/bin/python\nfrom __future__ import division\nimport numpy as np\nfrom math import pi, sin, cos, sqrt\nfrom numba import jit\nimport quaternion as quat\n\n# generate a noise vector inside a cone of angle nu*pi around the north pole\n# [1] https://stackoverflow.com/questions/38997302/create-random-unit-vector-inside-a-defined-conical-region\n# rotate the generated noise vector to the axis of the particle vector\n# [2] https://stackoverflow.com/questions/6802577/rotation-of-3d-vector\ndef noise_application(noiseWidth, vector):\n    \n    # Generate a random vector in solid angle 4*pi*nu around north pole\n    z = np.random.uniform(0., 1.) * (1 - cos(noiseWidth)) + cos(noiseWidth)\n    phi = np.random.uniform(0., 1.) * 2 * np.pi\n    x = sqrt(1 - z**2) * cos( phi )\n    y = sqrt(1 - z**2) * sin( phi )\n    \n    # Rotate the noise vector to be in a cone around the directional vector\n    # rotation axis\n    vector = vector / sqrt(vector[0]**2 + vector[1]**2 + vector[2]**2)\n    u =  np.cross([0, 0, 1], vector)\n    # rotation angle\n    rotTheta = np.arccos(np.dot(vector, [0, 0, 1]))\n    # prepare rot angle for quaternion\n    axisAngle = 0.5 * rotTheta * u / sqrt(u[0]**2 + u[1]**2 + u[2]**2)\n    # Quaternion stuff - pretty fast, compared to rotation matrices\n    vec = quat.quaternion(x, y, z)\n    qlog = quat.quaternion(*axisAngle)\n    q = np.exp(qlog)\n    \n    vPrime = q * vec * np.conjugate(q)\n    \n    return vPrime.imag\n    \n# generate random angle theta between -pi - pi\ndef rand_vector():\n    theta = np.random.uniform(0,2*pi)\n    z = np.random.uniform(-1,1)\n    x = cos(theta) * sqrt(1 - z**2)\n    y = sin(theta) * sqrt(1 - z**2)\n    return np.array([x,y,z])\n\n# [3] https://en.wikipedia.org/wiki/Periodic_boundary_conditions#(A)_Restrict_particle_coordinates_to_the_simulation_box\n@jit(nopython=True)\ndef get_all_distances(ps, box_size):\n    m = ps.shape[0]\n    res = np.zeros((m, m))\n    \n    for i in range(m):\n        for j in range(m):\n            dx = abs( ps[i,0] - ps[j,0] )\n            dy = abs( ps[i,1] - ps[j,1] )\n            dz = abs( ps[i,2] - ps[j,2] )\n            dx = dx - np.rint(dx/box_size) * box_size\n            dy = dy - np.rint(dy/box_size) * box_size\n            dz = dz - np.rint(dz/box_size) * box_size\n            res[i, j] = sqrt(dx*dx + dy*dy + dz*dz)\n    return res\n")),(0,t.yg)("p",null,"If you're wondering what's ",(0,t.yg)("inlineCode",{parentName:"p"},"numba")," and what is that ",(0,t.yg)("inlineCode",{parentName:"p"},"@jit")," decorator doing there, Numba is a ",(0,t.yg)("strong",{parentName:"p"},"Just In Time")," compiler for Python, which in short does things real fast, and comparable to C in speed. Go ",(0,t.yg)("a",{parentName:"p",href:"http://numba.pydata.org/"},"read about it")," to learn more about it, totally worth it for doing repetitive heavy computations in Python (I measured 7-11x increase in speed in certain scenarios)."),(0,t.yg)("p",null,"Now let's look into simulating the model itself. After we import whatever we will use, we need to declare some variables, which we have in the equations"),(0,t.yg)("pre",null,(0,t.yg)("code",{parentName:"pre",className:"language-python"},'#!/usr/bin/python\nimport sys\nimport numpy as np\nfrom collections import deque\nfrom geometry3d import rand_vector, get_all_distances, noise_application\nimport time\n\n"""Simulation Variables"""\n# Set these before running!!!\n# number of particles\nN = int(sys.argv[1])\n\n# size of system\nbox_size = float(sys.argv[2])\n\n# length of time delay\ntimeDelay = int(sys.argv[3])\n\n# noise intensity\neta = 0.45\n\n# make noise equilibration\nnoiseWidth = eta*np.pi\n\n# neighbour radius\nr = 1.\n\n# time step\nt = 0\ndelta_t = 1\n\n# maximum time steps\nT = 20000*delta_t\n\n# velocity of particles\nvel = 0.05\n\n"""END Sim Vars"""\n')),(0,t.yg)("p",null,"We need ",(0,t.yg)("inlineCode",{parentName:"p"},"sys")," imported, in order to get the arguments passed when running the python script. Now we generate random positions for our particles, and we can use our random vector generator function to initialise random initial velocities for the particles (as well as just initialise an array of zeros for the noise vectors)."),(0,t.yg)("pre",null,(0,t.yg)("code",{parentName:"pre",className:"language-python"},'"""INITIALISE"""\n\n# initialise random particle positions\nparticles = np.random.uniform(0,box_size,size=(N,3))\nupdatePos = particles\nprevPos = np.zeros(particles.shape)\n\n# initialise random unit vectors in 3D\nrand_vecs = np.zeros((N,3))\nfor i in range(0,N):\n    vec = rand_vector()\n    rand_vecs[i,:] = vec\n    \nnoiseVecs = np.zeros((N, 3))\nupdateVecs = rand_vecs\n')),(0,t.yg)("p",null,"Finally, we are going to use a queue for the time delay. A way to set this up, is to store in an array the average direction of a particles neighbours, and push it onto a queue. When the queue is filled with ",(0,t.yg)("span",{parentName:"p",className:"math math-inline"},(0,t.yg)("span",{parentName:"span",className:"katex"},(0,t.yg)("span",{parentName:"span",className:"katex-mathml"},(0,t.yg)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,t.yg)("semantics",{parentName:"math"},(0,t.yg)("mrow",{parentName:"semantics"},(0,t.yg)("mi",{parentName:"mrow"},"\u03c4")),(0,t.yg)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"\\tau")))),(0,t.yg)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,t.yg)("span",{parentName:"span",className:"base"},(0,t.yg)("span",{parentName:"span",className:"strut",style:{height:"0.4306em"}}),(0,t.yg)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.1132em"}},"\u03c4")))))," values of this average direction, we can dequeue that value, and use it to calculate the next direction of the particle of interest."),(0,t.yg)("pre",null,(0,t.yg)("code",{parentName:"pre",className:"language-python"},'# init time delay\nupdtQueue = np.zeros((N), dtype=deque)\nfor i in range(N):\n    updtQueue[i] = deque()\n"""END INIT"""\n')),(0,t.yg)("p",null,"Next, let's set up the meat of it all - the timestep function, which will do the following for each particle:"),(0,t.yg)("ol",null,(0,t.yg)("li",{parentName:"ol"},"Find its neighbours (particles within the sphere of influence)"),(0,t.yg)("li",{parentName:"ol"},"Put the directions of all neighbours into the queue"),(0,t.yg)("li",{parentName:"ol"},"When the queue is as long as the time-delay value ",(0,t.yg)("span",{parentName:"li",className:"math math-inline"},(0,t.yg)("span",{parentName:"span",className:"katex"},(0,t.yg)("span",{parentName:"span",className:"katex-mathml"},(0,t.yg)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,t.yg)("semantics",{parentName:"math"},(0,t.yg)("mrow",{parentName:"semantics"},(0,t.yg)("mi",{parentName:"mrow"},"\u03c4")),(0,t.yg)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"\\tau")))),(0,t.yg)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,t.yg)("span",{parentName:"span",className:"base"},(0,t.yg)("span",{parentName:"span",className:"strut",style:{height:"0.4306em"}}),(0,t.yg)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.1132em"}},"\u03c4"))))),":",(0,t.yg)("ol",{parentName:"li"},(0,t.yg)("li",{parentName:"ol"},"Dequeue the neighbours from before the time-delay period"),(0,t.yg)("li",{parentName:"ol"},"Calculate the average direction of the neighbours (and normalise that vector)"),(0,t.yg)("li",{parentName:"ol"},"Apply random noise to that average direction"),(0,t.yg)("li",{parentName:"ol"},"Assign this new vector as the new direction of the particle"),(0,t.yg)("li",{parentName:"ol"},"Move the particle to its new position, following its new direction vector"),(0,t.yg)("li",{parentName:"ol"},"Apply a periodic boundary conditions check (teleport particle if need be)"))),(0,t.yg)("li",{parentName:"ol"},"Rinse and repeat for the duration of the simulation")),(0,t.yg)("p",null,"And then we can add some code to save our particles data to text files, and print in the console the time it takes to make a time step. After all of that, we put everythin in one file, and call it whatever we want, like ",(0,t.yg)("inlineCode",{parentName:"p"},"main.py"),"."),(0,t.yg)("pre",null,(0,t.yg)("code",{parentName:"pre",className:"language-python",metastring:'title="main.py"',title:'"main.py"'},'#!/usr/bin/python\nimport sys\nimport numpy as np\nfrom collections import deque\nfrom geometry3d import rand_vector, get_all_distances, noise_application\nimport time\n\n"""INITIALISE"""\n\n"""Simulation Variables"""\n# Set these before running!!!\n# number of particles\nN = int(sys.argv[1])\n\n# size of system\nbox_size = float(sys.argv[2])\n\n# length of time delay\ntimeDelay = int(sys.argv[3])\n\n# noise intensity\neta = 0.45\n\n# neighbour radius\nr = 1.\n\n# time step\nt = 0\ndelta_t = 1\n\n# maximum time steps\nT = 20000*delta_t\n\n# velocity of particles\nvel = 0.05\n\n"""END Sim Vars"""\n\n# make noise equilibration\nnoiseWidth = eta*np.pi\n\n# initialise random particle positions\nparticles = np.random.uniform(0,box_size,size=(N,3))\nupdatePos = particles\nprevPos = np.zeros(particles.shape)\n\n# initialise random unit vectors in 3D\nrand_vecs = np.zeros((N,3))\nfor i in range(0,N):\n    vec = rand_vector()\n    rand_vecs[i,:] = vec\n    \nnoiseVecs = np.zeros((N, 3))\nupdateVecs = rand_vecs\n\ntimestepTime = time.time()\n\n# init time delay\nupdtQueue = np.zeros((N), dtype=deque)\nfor i in range(N):\n    updtQueue[i] = deque()\n"""END INIT"""\n\ndef timestep(particles, rand_vecs):\n    \n    # actual simulation timestep\n    for i in range(len(particles)):\n        \n        # get neighbor indices for current particle\n        neighbours = np.where(distances[i]<r)\n        neighbours = neighbours[0][ np.where( neighbours[0] != i ) ]\n        \n        neighsDirs = rand_vecs[neighbours]\n        \n        # add neighbours\' directions to queue to be used after time delay interval\n        updtQueue[i].append(neighsDirs)\n        \n        # if the queue is long enough, dequeue and change unit vector accordingly\n        # otherwise continue on previous trajectory\n        if(len(updtQueue[i]) > timeDelay):\n            \n            # get neighbours\' directions from before time delay interval\n            neighsDirs = updtQueue[i].popleft()\n            \n            # get average direction vector of neighbours\n            avg = np.mean([rand_vecs[i], *neighsDirs], axis=0)\n            \n            # apply the noise vector by rotating it to the axis of the particle vector\n            newVec = noise_application(noiseWidth, avg)\n            \n            # move to new position \n            updatePos[i,:] = updatePos[i,:] + delta_t * vel * newVec\n            \n            # get new unit vector vector\n            updateVecs[i] = newVec\n        else:\n            # move to new position using old unit vector\n            updatePos[i,:] = updatePos[i,:] + delta_t * vel * rand_vecs[i]\n    \n        # assure correct boundaries (xmax,ymax) = (box_size, box_size)\n        if updatePos[i,0] < 0:\n            updatePos[i,0] = box_size + updatePos[i,0]\n    \n        if updatePos[i,0] > box_size:\n            updatePos[i,0] = updatePos[i,0] - box_size\n    \n        if updatePos[i,1] < 0:\n            updatePos[i,1] = box_size + updatePos[i,1]\n    \n        if updatePos[i,1] > box_size:\n            updatePos[i,1] = updatePos[i,1] - box_size\n    \n        if updatePos[i,2] < 0:\n            updatePos[i,2] = box_size + updatePos[i,2]\n    \n        if updatePos[i,2] > box_size:\n            updatePos[i,2] = updatePos[i,2] - box_size\n            \n    particles = updatePos\n    rand_vecs = updateVecs\n    \n    return particles, rand_vecs\n\n"""TIMESTEP AND THINGS TO DO WHEN VISITING"""    \n# Run until time ends\ntimestr = time.strftime("%Y%m%d-%H%M%S")\nf = open( \'N{0}L{1}dt{2}T{3}_{4}.txt\'.format(N, box_size, timeDelay, T, timestr), \'a+\' )\nwhile t < T:\n    # print progress update and time spent on n steps\n    if t%100 == 0:\n        print ("step {} / {}: avg. time for 10 steps {:.3f}".format(\n                t, T, (time.time()-timestepTime)/10\n                ))\n        timestepTime = time.time()\n        \n    """Timestep"""\n    \n    # get all relative distances between particles before looking for neighbours\n    distances = get_all_distances(particles, box_size)\n    \n    particles, rand_vecs = timestep(particles, rand_vecs)\n    \n    # export data and advance to new time step\n    np.savetxt(f, particles, header=\'timestep {0}\'.format(t) )\n    t += delta_t\n    \nelse:\n    f.close()\n')),(0,t.yg)("p",null,"And we are done! We can now run our simulator from the terminal with something like python ",(0,t.yg)("inlineCode",{parentName:"p"},"main.py 128 6 2")," to get the simulation for 128 particles, a box size of 6, and time delay value of 2. Voila! We have a Vicsek model simulator with added time delay, which will export particle positions. Now we can do all kinds of fun things, like visualise the motion of the particles, or do analysis on the data."),(0,t.yg)("p",null,"Next time we will see what kind of statistical analysis we can do on those data, and for now I will leave you with a ",(0,t.yg)("a",{parentName:"p",href:"https://codepen.io/tihawk/full/vPXebG"},"link to a visualisation version of this model"),", that you can play around with"),(0,t.yg)("p",null,"And ",(0,t.yg)("a",{parentName:"p",href:"https://github.com/tihawk/vicsek_timedelay"},"here")," you can see the full code of the simulator, together with the analysis part, and a script to run it, as well as a ",(0,t.yg)("strong",{parentName:"p"},"Jupyter notebook")," for visualising the analysis. We will discuss all of these in the next post."),(0,t.yg)(m.A,{mdxType:"DonateCard"}))}o.isMDXComponent=!0}}]);